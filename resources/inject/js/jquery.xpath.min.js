!function(){function e(e,t){this.code=e,this.message=t||Bn[e]}function t(t){var n=t.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(n){for(var o=0,i=0,r=n.length;i<r;i++)"(:"==n[i]?o++:":)"==n[i]&&o?o--:o||/^\s/.test(n[i])||(this[this.length++]=n[i]);if(o)throw new e("XPST0003","Unclosed comment")}}function n(){}function o(e,t,o,i){this.staticContext=e,this.item=t,this.scope=o||{},this.stack={},this.DOMAdapter=i||new n;var r=new Mn,a=r.getTimezoneOffset();this.dateTime=new We(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()+r.getMilliseconds()/1e3,-a),this.timezone=new Et(0,Sn.abs(~~(a/60)),Sn.abs(a%60),0,a>0)}function i(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}function r(e,t,n){$n[e]=n,Hn[e]=t}function a(e,t){Zn[e]=t}function u(n,o){var i=new t(n),r=f(i,o);if(!i.eof())throw new e("XPST0003","Unexpected token beyond end of query");if(!r)throw new e("XPST0003","Expected expression");this.internalExpression=r}function s(){}function c(){}function l(){this.items=[]}function f(t,n){var o;if(!t.eof()&&(o=p(t,n))){var i=new l;for(i.items.push(o);","==t.peek();){if(t.next(),t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected expression");i.items.push(o)}return i}}function p(e,t){if(!e.eof())return v(e,t)||d(e,t)||T(e,t)||k(e,t)}function h(){this.bindings=[],this.returnExpr=null}function d(t,n){if("for"==t.peek()&&"$"==t.peek(1).substr(0,1)){t.next();var o,i=new h;do{i.bindings.push(w(t,n))}while(","==t.peek()&&t.next());if("return"!=t.peek())throw new e("XPST0003","Expected 'return' token in for expression");if(t.next(),t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected return statement operand in for expression");return i.returnExpr=o,i}}function m(e,t,n,o){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=o}function w(t,n){var o=t.peek().substr(1).match(ao);if(!o)throw new e("XPST0003","Expected binding in for expression");if("*"==o[1]||"*"==o[2])throw new e("XPST0003","Illegal use of wildcard in for expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in for expression binding");t.next();var i;if(t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected in statement operand in for expression binding");return new m(o[1]||null,o[2],o[1]?n.getURIForPrefix(o[1]):null,i)}function y(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function v(t,n){var o,i,r;if("if"==t.peek()&&"("==t.peek(1)){if(t.next(2),t.eof()||!(o=f(t,n)))throw new e("XPST0003","Expected if statement operand in conditional expression");if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in for expression");if(t.next(),"then"!=t.peek())throw new e("XPST0003","Expected 'then' token in conditional if expression");if(t.next(),t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected then statement operand in condional expression");if("else"!=t.peek())throw new e("XPST0003","Expected 'else' token in conditional if expression");if(t.next(),t.eof()||!(r=p(t,n)))throw new e("XPST0003","Expected else statement operand in condional expression");return new y(o,i,r)}}function g(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function T(t,n){var o=t.peek();if(("some"==o||"every"==o)&&"$"==t.peek(1).substr(0,1)){t.next();var i,r=new g(o);do{r.bindings.push(I(t,n))}while(","==t.peek()&&t.next());if("satisfies"!=t.peek())throw new e("XPST0003","Expected 'satisfies' token in quantified expression");if(t.next(),t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected satisfies statement operand in quantified expression");return r.satisfiesExpr=i,r}}function x(e,t,n,o){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=o}function I(t,n){var o=t.peek().substr(1).match(ao);if(!o)throw new e("XPST0003","Expected binding in quantified expression");if("*"==o[1]||"*"==o[2])throw new e("XPST0003","Illegal use of wildcard in quantified expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in quantified expression binding");t.next();var i;if(t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected in statement operand in quantified expression binding");return new x(o[1]||null,o[2],o[1]?n.getURIForPrefix(o[1]):null,i)}function N(e,t,n){this.left=e,this.right=t,this.operator=n}function D(t,n){var o,i;if(!t.eof()&&(o=De(t,n))){if(!(t.peek()in eo))return o;var r=t.peek();if(t.next(),t.eof()||!(i=De(t,n)))throw new e("XPST0003","Expected second operand in comparison expression");return new N(o,i,r)}}function O(e,t){var n=xn(e.left.evaluate(t),t);if(!n.length)return new Ze(!1);var o=xn(e.right.evaluate(t),t);if(!o.length)return new Ze(!1);for(var i,r,a=!1,u=0,s=n.length;u<s&&!a;u++)for(var c,l,f=0,p=o.length;f<p&&!a;f++)r=n[u],c=(l=o[f])instanceof Nt,(i=r instanceof Nt)&&c?(r=Tt.cast(r),l=Tt.cast(l)):(i?l instanceof Et?r=Et.cast(r):l instanceof Dt?r=Dt.cast(r):l.primitiveKind&&(r=Zn[l.primitiveKind].cast(r)):c&&(r instanceof Et?l=Et.cast(l):r instanceof Dt?l=Dt.cast(l):r.primitiveKind&&(l=Zn[r.primitiveKind].cast(l))),r instanceof $e&&(r=Tt.cast(r)),l instanceof $e&&(l=Tt.cast(l))),a=Jn[jn[e.operator]](r,l,t).valueOf();return new Ze(a)}function E(e,t){var n=xn(e.left.evaluate(t),t);if(!n.length)return null;Te(t,n,"?","first operand of '"+e.operator+"'");var o=xn(e.right.evaluate(t),t);if(!o.length)return null;Te(t,o,"?","second operand of '"+e.operator+"'");var i=n[0],r=o[0];return i instanceof Nt&&(i=Tt.cast(i)),r instanceof Nt&&(r=Tt.cast(r)),i instanceof $e&&(i=Tt.cast(i)),r instanceof $e&&(r=Tt.cast(r)),Jn[e.operator](i,r,t)}function P(e,t){var n=e.left.evaluate(t);if(!n.length)return null;Te(t,n,"?","first operand of '"+e.operator+"'"),ge(t,n,Qt,"first operand of '"+e.operator+"'");var o=e.right.evaluate(t);return o.length?(Te(t,o,"?","second operand of '"+e.operator+"'"),ge(t,o,Qt,"second operand of '"+e.operator+"'"),Wn[e.operator](n[0],o[0],t)):null}function b(e){this.left=e,this.items=[]}function R(t,n){var o;if(!t.eof()&&(o=A(t,n))){if(!(t.peek()in to))return o;for(var i,r=new b(o);(i=t.peek())in to;){if(t.next(),t.eof()||!(o=A(t,n)))throw new e("XPST0003","Expected second operand in additive expression");r.items.push([i,o])}return r}}function M(e){this.left=e,this.items=[]}function A(t,n){var o;if(!t.eof()&&(o=Ee(t,n))){if(!(t.peek()in no))return o;for(var i,r=new M(o);(i=t.peek())in no;){if(t.next(),t.eof()||!(o=Ee(t,n)))throw new e("XPST0003","Expected second operand in multiplicative expression");r.items.push([i,o])}return r}}function S(e,t){this.operator=e,this.expression=t}function X(t,n){if(!t.eof()){if(!(t.peek()in oo))return _(t,n);for(var o,i="+";t.peek()in oo;)"-"==t.peek()&&(i="-"==i?"+":"-"),t.next();if(t.eof()||!(o=_(t,n)))throw new e("XPST0003","Expected operand in unary expression");return new S(i,o)}}function _(e,t){return $(e,t)}function Y(e){this.left=e,this.items=[]}function k(t,n){var o;if(!t.eof()&&(o=z(t,n))){if("or"!=t.peek())return o;for(var i=new Y(o);"or"==t.peek();){if(t.next(),t.eof()||!(o=z(t,n)))throw new e("XPST0003","Expected second operand in logical expression");i.items.push(o)}return i}}function U(e){this.left=e,this.items=[]}function z(t,n){var o;if(!t.eof()&&(o=D(t,n))){if("and"!=t.peek())return o;for(var i=new U(o);"and"==t.peek();){if(t.next(),t.eof()||!(o=D(t,n)))throw new e("XPST0003","Expected second operand in logical expression");i.items.push(o)}return i}}function C(){}function G(e,t){if(!e.eof())return he(e,t)||K(e,t)}function F(t,n,o){for(var i;"["==t.peek();){if(t.next(),t.eof()||!(i=f(t,n)))throw new e("XPST0003","Expected expression in predicate");if(o.predicates.push(i),"]"!=t.peek())throw new e("XPST0003","Expected ']' token in predicate");t.next()}}function q(e,t){this.axis=e,this.test=t,this.predicates=[]}function K(t,n){var o,i,r=t.peek();if("::"==t.peek(1)){if(!(r in io))throw new e("XPST0003","Unknown axis name: "+r);if(t.next(2),t.eof()||!(o=Z(t,n)))throw new e("XPST0003","Expected node test expression in axis step");i=new q(r,o)}else if(".."==r)t.next(),i=new q("parent",new Q("node"));else if("@"==r){if(t.next(),t.eof()||!(o=Z(t,n)))throw new e("XPST0003","Expected node test expression in axis step");i=new q("attribute",o)}else{if(t.eof()||!(o=Z(t,n)))return;i=new q(o instanceof Q&&"attribute"==o.name?"attribute":"child",o)}return F(t,n,i),i}function V(e,t,n){for(var o;e;e=n(e,"nextSibling"))t.push(e),(o=n(e,"firstChild"))&&V(o,t,n)}function B(e,t,n){for(var o;e;e=n(e,"previousSibling"))(o=n(e,"lastChild"))&&B(o,t,n),t.push(e)}function L(){this.items=[]}function $(t,n){if(!t.eof()){var o,i=new L,r=t.peek();if("//"!=r&&"/"!=r||(t.next(),i.items.push(new we(null,"root",Vn)),"//"==r&&i.items.push(new q("descendant-or-self",new Q("node")))),!t.eof()&&(o=G(t,n))){for(i.items.push(o);"/"==(r=t.peek())||"//"==r;){if("//"==r&&i.items.push(new q("descendant-or-self",new Q("node"))),t.next(),t.eof()||!(o=G(t,n)))throw new e("XPST0003","Expected path step expression");i.items.push(o)}return 1==i.items.length?i.items[0]:i}if("/"==r)return i.items[0];if("//"==r)throw new e("XPST0003","Expected path step expression")}}function H(){}function Z(e,t){if(!e.eof())return j(e,t)||W(e,t)}function Q(e){this.name=e,this.args=[]}function j(t,n){var o=t.peek();if("("==t.peek(1)){if(!(o in ro))throw new e("XPST0003","Unknown '"+o+"' kind test");t.next(2);var i=new Q(o);if(")"!=t.peek());else{if("schema-attribute"==o)throw new e("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if("schema-element"==o)throw new e("XPST0003","Expected element declaration in 'schema-element' kind test")}if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in kind test");return t.next(),i}}function J(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function W(t,n){var o=t.peek().match(ao);if(o){if("*"==o[1]&&"*"==o[2])throw new e("XPST0003","Illegal use of *:* wildcard in name test");return t.next(),new J(o[1]||null,o[2],o[1]?"*"==o[1]?"*":n.getURIForPrefix(o[1])||null:n.defaultElementNamespace)}}function ee(e,t){if(!e.eof())return ie(e,t)||ne(e,t)||ye(e,t)||me(e,t)||ae(e,t)}function te(e){this.expression=e}function ne(t,n){if("("==t.peek()){t.next();var o=null;if(")"!=t.peek()&&(o=f(t,n)),")"!=t.peek())throw new e("XPST0003","Expected ')' token in parenthesized expression");return t.next(),new te(o)}}function oe(){}function ie(e,t){if("."==e.peek())return e.next(),new oe}function re(){}function ae(e,t){if(!e.eof())return se(e,t)||fe(e,t)}function ue(e){this.value=e}function se(e,t){var n=ce(e.peek());if(n)return e.next(),new ue(n)}function ce(e){var t=e.match(uo);if(t){var n=bt;return t[5]?n=at:(t[2]||t[3])&&(n=rt),new n(+e)}}function le(e){this.value=e}function fe(e,t){var n=e.peek().match(so);if(n)return e.next(),new le(new Tt(n[1]?n[1].replace("''","'"):n[2]?n[2].replace('""','"'):""))}function pe(e){this.expression=e,this.predicates=[]}function he(e,t){var n;if(!e.eof()&&(n=ee(e,t))){var o=new pe(n);return F(e,t,o),0==o.predicates.length?o.expression:o}}function de(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function me(t,n){if("$"==t.peek().substr(0,1)){var o=t.peek().substr(1).match(ao);if(o){if("*"==o[1]||"*"==o[2])throw new e("XPST0003","Illegal use of wildcard in var expression variable name");var i=new de(o[1]||null,o[2],o[1]?n.getURIForPrefix(o[1]):null);return t.next(),i}}}function we(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}function ye(t,n){var o=t.peek().match(ao);if(o&&"("==t.peek(1)){if(!o[1]&&o[2]in ro)return K(t,n);if("*"==o[1]||"*"==o[2])throw new e("XPST0003","Illegal use of wildcard in function name");var i,r=new we(o[1]||null,o[2],o[1]?n.getURIForPrefix(o[1])||null:n.defaultFunctionNamespace);if(t.next(2),")"!=t.peek()){do{if(t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected function call argument");r.args.push(i)}while(","==t.peek()&&t.next());if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in function call")}return t.next(),r}}function ve(t,n,o,i,r){for(var a,u,s=i.length,c=n.length,l=0;l<n.length&&!n[l][2];)l++;if(s>c)throw new e("XPST0017","Function "+t+"() must have "+(c?" no more than ":"")+c+" argument"+(c>1||!c?"s":""));if(s<l)throw new e("XPST0017","Function "+t+"() must have "+(l==c?"exactly":"at least")+" "+l+" argument"+(c>1?"s":""));for(var f=0;f<s;f++)u=n[f],Te(r,a=i[f],u[1],co[f]+" argument of "+t+"()"),ge(r,a,u[0],co[f]+" argument of "+t+"()"),"+"!=u[1]&&"*"!=u[1]&&(i[f]=a.length?a[0]:null)}function ge(t,n,o,i){for(var r,a,u=0,s=n.length;u<s;u++)if(a=n[u],o==Qt||o.prototype instanceof Qt){if(!t.DOMAdapter.isNode(a))throw new e("XPTY0004","Required item type of "+i+" is "+o);if(o!=Qt&&(r=t.DOMAdapter.getProperty(a,"nodeType"),[null,en,jt,nn,nn,null,null,tn,Jt,Wt,null,null,null][r]!=o))throw new e("XPTY0004","Required item type of "+i+" is "+o)}else if(o==Be||o.prototype instanceof Be){if(a=xn([a],t)[0],o!=Be&&(a instanceof Nt?a=o.cast(a):o==Tt?a instanceof $e&&(a=Tt.cast(a)):o==at&&Le(a)&&(a=o.cast(a))),!(a instanceof o))throw new e("XPTY0004","Required item type of "+i+" is "+o);n[u]=a}}function Te(t,n,o,i){var r=n.length;if("?"==o){if(r>1)throw new e("XPTY0004","Required cardinality of "+i+" is one or zero")}else if("+"==o){if(r<1)throw new e("XPTY0004","Required cardinality of "+i+" is one or more")}else if("*"!=o&&1!=r)throw new e("XPTY0004","Required cardinality of "+i+" is exactly one")}function xe(e){this.left=e,this.items=[]}function Ie(t,n){var o,i;if(!t.eof()&&(o=be(t,n))){if("intersect"!=(i=t.peek())&&"except"!=i)return o;for(var r=new xe(o);"intersect"==(i=t.peek())||"except"==i;){if(t.next(),t.eof()||!(o=be(t,n)))throw new e("XPST0003","Expected second operand in "+i+" expression");r.items.push([i,o])}return r}}function Ne(e,t){this.left=e,this.right=t}function De(t,n){var o,i;if(!t.eof()&&(o=R(t,n))){if("to"!=t.peek())return o;if(t.next(),t.eof()||!(i=R(t,n)))throw new e("XPST0003","Expected second operand in range expression");return new Ne(o,i)}}function Oe(e){this.left=e,this.items=[]}function Ee(t,n){var o,i;if(!t.eof()&&(o=Ie(t,n))){if("|"!=(i=t.peek())&&"union"!=i)return o;for(var r=new Oe(o);"|"==(i=t.peek())||"union"==i;){if(t.next(),t.eof()||!(o=Ie(t,n)))throw new e("XPST0003","Expected second operand in union expression");r.items.push(o)}return r}}function Pe(e,t){this.expression=e,this.type=t}function be(t,n){var o,i;if(!t.eof()&&(o=Me(t,n))){if("instance"!=t.peek()||"of"!=t.peek(1))return o;if(t.next(2),t.eof()||!(i=Ge(t,n)))throw new e("XPST0003","Expected second operand in instance of expression");return new Pe(o,i)}}function Re(e,t){this.expression=e,this.type=t}function Me(t,n){var o,i;if(!t.eof()&&(o=Se(t,n))){if("treat"!=t.peek()||"as"!=t.peek(1))return o;if(t.next(2),t.eof()||!(i=Ge(t,n)))throw new e("XPST0003","Expected second operand in treat expression");return new Re(o,i)}}function Ae(e,t){this.expression=e,this.type=t}function Se(t,n){var o,i;if(!t.eof()&&(o=_e(t,n))){if("castable"!=t.peek()||"as"!=t.peek(1))return o;if(t.next(2),t.eof()||!(i=qe(t,n)))throw new e("XPST0003","Expected second operand in castable expression");return new Ae(o,i)}}function Xe(e,t){this.expression=e,this.type=t}function _e(t,n){var o,i;if(!t.eof()&&(o=X(t,n))){if("cast"!=t.peek()||"as"!=t.peek(1))return o;if(t.next(2),t.eof()||!(i=qe(t,n)))throw new e("XPST0003","Expected second operand in cast expression");return new Xe(o,i)}}function Ye(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function ke(t,n){var o=t.peek().match(ao);if(o){if("*"==o[1]||"*"==o[2])throw new e("XPST0003","Illegal use of wildcard in type name");return t.next(),new Ye(o[1]||null,o[2],o[1]?n.getURIForPrefix(o[1]):null)}}function Ue(e){this.test=e}function ze(t,n){if(!t.eof()){var o;if("item"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in item type expression");return t.next(),new Ue}return(o=j(t,n))?new Ue(o):(o=ke(t,n))?new Ue(o):void 0}}function Ce(e,t){this.itemType=e||null,this.occurence=t||null}function Ge(t,n){if(!t.eof()){if("empty-sequence"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in sequence type");return t.next(),new Ce}var o,i;return!t.eof()&&(o=ze(t,n))?("?"==(i=t.peek())||"*"==i||"+"==i?t.next():i=null,new Ce(o,i)):void 0}}function Fe(e,t){this.itemType=e||null,this.occurence=t||null}function qe(e,t){var n,o;if(!e.eof()&&(n=ke(e,t)))return"?"==(o=e.peek())?e.next():o=null,new Fe(n,o)}function Ke(){}function Ve(){}function Be(){}function Le(e){return e instanceof ft||e instanceof at||e instanceof rt}function $e(e,t,n,o,i){this.scheme=e,this.authority=t,this.path=n,this.query=o,this.fragment=i}function He(e){this.value=e}function Ze(e){this.value=e}function Qe(e,t,n,o,i){this.year=e,this.month=t,this.day=n,this.timezone=o,this.negative=i}function je(e,t){return 2==t&&(e%400==0||e%100!=0&&e%4==0)?29:mo[t-1]}function Je(e,t){if(!t){var n=je(e.year,e.month);if(e.day>n)for(;e.day>n;)e.month+=1,e.month>12&&(e.year+=1,0==e.year&&(e.year=1),e.month=1),e.day-=n,n=je(e.year,e.month);else if(e.day<1)for(;e.day<1;)e.month-=1,e.month<1&&(e.year-=1,0==e.year&&(e.year=-1),e.month=12),n=je(e.year,e.month),e.day+=n}return e.month>12?(e.year+=~~(e.month/12),0==e.year&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,0==e.year&&(e.year=-1),e.month=e.month%12+12),e}function We(e,t,n,o,i,r,a,u){this.year=e,this.month=t,this.day=n,this.hours=o,this.minutes=i,this.seconds=r,this.timezone=a,this.negative=u}function et(e,t){var n=En(e);return arguments.length<2&&(t=2),(n.length<t+1?new bn(t+1-n.length).join("0"):"")+n}function tt(e){var t=e.timezone;return null==t?"":t?(t>0?"+":"-")+et(Sn.abs(~~(t/60)))+":"+et(Sn.abs(t%60)):"Z"}function nt(e){return(e.negative?"-":"")+et(e.year,4)+"-"+et(e.month)+"-"+et(e.day)}function ot(e){var t=En(e.seconds).split(".");return et(e.hours)+":"+et(e.minutes)+":"+et(t[0])+(t.length>1?"."+t[1]:"")}function it(e){return Je(It(e))}function rt(e){this.value=e}function at(e){this.value=e}function ut(e,t,n,o,i,r,a){this.year=e,this.month=t,this.day=n,this.hours=o,this.minutes=i,this.seconds=r,this.negative=a}function st(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function ct(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function lt(e){return Ot(Pt(e))}function ft(e){this.value=e}function pt(e,t){this.day=e,this.timezone=t}function ht(e,t){this.month=e,this.timezone=t}function dt(e,t,n){this.month=e,this.day=t,this.timezone=n}function mt(e,t){this.year=e,this.timezone=t}function wt(e,t,n){this.year=e,this.month=t,this.timezone=n}function yt(e){this.value=e}function vt(){}function gt(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Tt(e){this.value=e}function xt(e,t,n,o){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=o}function It(e){return(e.seconds>=60||e.seconds<0)&&(e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0)),(e.minutes>=60||e.minutes<0)&&(e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0)),(e.hours>=24||e.hours<0)&&(e instanceof We&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0)),e}function Nt(e){this.value=e}function Dt(e,t,n){ut.call(this,e,t,0,0,0,0,n)}function Ot(e){return e.month>=12&&(e.year+=~~(e.month/12),e.month%=12),e}function Et(e,t,n,o,i){ut.call(this,0,0,e,t,n,o,i)}function Pt(e){return e.seconds>=60&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),e.minutes>=60&&(e.hours+=~~(e.minutes/60),e.minutes%=60),e.hours>=24&&(e.day+=~~(e.hours/24),e.hours%=24),e}function bt(e){this.value=e}function Rt(e){this.value=e}function Mt(e){this.value=e}function At(e){this.value=e}function St(e){this.value=e}function Xt(e){this.value=e}function _t(e){this.value=e}function Yt(e){this.value=e}function kt(e){this.value=e}function Ut(e){this.value=e}function zt(e){this.value=e}function Ct(e){this.value=e}function Gt(e){this.value=e}function Ft(e){this.value=e}function qt(e){this.value=e}function Kt(e){this.value=e}function Vt(e){this.value=e}function Bt(e){this.value=e}function Lt(e){this.value=e}function $t(e){this.value=e}function Ht(e){this.value=e}function Zt(){}function Qt(){}function jt(){}function Jt(){}function Wt(){}function en(){}function tn(){}function nn(){}function on(e,t,n){var o=hn(e),i=hn(t);return new Ze("lt"==n?o<i:"gt"==n?o>i:o==i)}function rn(e,t,n){return an(We.cast(e),We.cast(t),n)}function an(e,t,n){var o=new Et(0,0,0,0),i=gn(e,o).toString(),r=gn(t,o).toString();return new Ze("lt"==n?i<r:"gt"==n?i>r:i==r)}function un(e,t,n){var o;e instanceof Qe?o=new Qe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof We&&(o=new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),o.year=o.year+t.year*("-"==n?-1:1),o.month=o.month+t.month*("-"==n?-1:1),Je(o,!0);var i=je(o.year,o.month);return o.day>i&&(o.day=i),o}function sn(e,t,n){var o;if(e instanceof Qe){var i=60*(60*t.hours+t.minutes)+t.seconds;(o=new Qe(e.year,e.month,e.day,e.timezone,e.negative)).day=o.day+t.day*("-"==n?-1:1)-1*(i&&"-"==n),Je(o)}else e instanceof We&&((o=new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)).seconds=o.seconds+t.seconds*("-"==n?-1:1),o.minutes=o.minutes+t.minutes*("-"==n?-1:1),o.hours=o.hours+t.hours*("-"==n?-1:1),o.day=o.day+t.day*("-"==n?-1:1),it(o));return o}function cn(e){return(60*(60*(24*e.day+e.hours)+e.minutes)+e.seconds)*(e.negative?-1:1)}function ln(e){var t=(e=Sn.round(e))<0,n=~~((e=Sn.abs(e))/86400),o=~~((e-=3600*n*24)/3600),i=~~((e-=3600*o)/60);return new Et(n,o,i,e-=60*i,t)}function fn(e){return(12*e.year+e.month)*(e.negative?-1:1)}function pn(e){var t=(e=Sn.round(e))<0,n=~~((e=Sn.abs(e))/12);return new Dt(n,e-=12*n,t)}function hn(e){return e.seconds+60*(e.minutes-(null!=e.timezone?e.timezone%60:0)+60*(e.hours-(null!=e.timezone?~~(e.timezone/60):0)))}function dn(e){var t=new Mn((e.negative?-1:1)*e.year,e.month,e.day,0,0,0,0);return e instanceof We&&(t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds)),null!=e.timezone&&t.setMinutes(t.getMinutes()-e.timezone),t.getTime()/1e3}function mn(e,t){if(_n(e)||Sn.abs(e)==Un||_n(t)||Sn.abs(t)==Un)return 0;var n=En(e).match(uo),o=En(t).match(uo),i=Sn.max(1,(n[2]||n[3]||"").length+(n[5]||0)*("+"==n[4]?-1:1),(o[2]||o[3]||"").length+(o[5]||0)*("+"==o[4]?-1:1));return i+(i%2?0:1)}function wn(e,t,n){return new(e instanceof bt&&t instanceof bt&&n==Sn.round(n)?bt:rt)(n)}function yn(e,t){if(null==e)return null;var n=e[t]*(e.negative?-1:1);return"seconds"==t?new rt(n):new bt(n)}function vn(e,t){if(null==e)return null;if("timezone"==t){var n=e.timezone;return null==n?null:new Et(0,Sn.abs(~~(n/60)),Sn.abs(n%60),0,n<0)}var o=e[t];return e instanceof Qe||"hours"==t&&24==o&&(o=0),e instanceof xt||(o*=e.negative?-1:1),"seconds"==t?new rt(o):new bt(o)}function gn(e,t){if(null==e)return null;var n;if(n=e instanceof Qe?new Qe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof xt?new xt(e.hours,e.minutes,e.seconds,e.timezone,e.negative):new We(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),null==t)n.timezone=null;else{var o=cn(t)/60;if(null!=e.timezone){var i=o-e.timezone;e instanceof Qe?i<0&&n.day--:(n.minutes+=i%60,n.hours+=~~(i/60)),it(n)}n.timezone=o}return n}function Tn(t,n){if(!t.length)return!1;var o=t[0];if(n.DOMAdapter.isNode(o))return!0;if(1==t.length){if(o instanceof Ze)return o.value.valueOf();if(o instanceof Tt)return!!o.valueOf().length;if(Le(o))return!(_n(o.valueOf())||0==o.valueOf());throw new e("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}throw new e("FORG0006","Effective boolean value is not defined for a sequence of two or more items")}function xn(e,t){for(var n,o,i=[],r=0,a=e.length;r<a;r++){if(n=e[r],o=null,null==n)o=null;else if(t.DOMAdapter.isNode(n)){var u=t.DOMAdapter.getProperty;switch(u(n,"nodeType")){case 1:o=new Nt(u(n,"textContent"));break;case 2:o=new Nt(u(n,"value"));break;case 3:case 4:case 8:case 7:o=new Nt(u(n,"data"));break;case 9:var s=u(n,"documentElement");o=new Nt(s?u(s,"textContent"):"")}}else n instanceof Be&&(o=n);null!=o&&i.push(o)}return i}function In(e,t){return e.sort(function(e,n){var o=t.DOMAdapter.compareDocumentPosition(e,n);return 2&o?1:4&o?-1:0})}function Nn(t,n){var o="À-ÖØ-öø-˿",i="Ͱ-ͽͿ-῿‌-‍",r="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",a="A-Z_a-z\\-.0-9·"+o+"̀-ͯ"+i+"‿-⁀"+r,u="A-Z_a-z"+o+i+r;if(t=t.replace(/\[\\i-\[:\]\]/g,"["+u+"]").replace(/\[\\c-\[:\]\]/g,"["+a+"]").replace(/\\i/g,"[:"+u+"]").replace(/\\I/g,"[^:"+u+"]").replace(/\\c/g,"[:"+a+"]").replace(/\\C/g,"[^:"+a+"]"),n&&!n.match(/^[smix]+$/))throw new e("FORX0001");var s=n.indexOf("s")>=0,c=n.indexOf("x")>=0;if(s||c){n=n.replace(/[sx]/g,"");for(var l,f=[],p=/\s/,h=0,d=t.length,m=!1,w="";h<d;h++)l=t.charAt(h),"\\"!=w&&("["==l?m=!0:"]"==l&&(m=!1)),!m&&c&&p.test(l)||(f[f.length]=!m&&s&&"."==l&&"\\"!=w?"(?:.|\\s)":l),w=l;t=f.join("")}return new Rn(t,n+"g")}function Dn(){}function On(e,t,n){void 0!==t&&null!==t||(t="");var r=e[0];void 0===r&&(r=null);var a=r&&"DIV"==(9==r.nodeType?r:r.ownerDocument).createElement("div").tagName?Ko:Vo;a.namespaceResolver=n;var s=new u(En(t),a);a.namespaceResolver=null;var c,l=new Co,f=Yo;Fo?f=a==Ko?Uo:zo:qo&&a==Ko&&(f=ko);for(var p,h=0,d=(c=s.evaluate(new o(a,r,null,f))).length;h<d;h++)l.push(f.isNode(p=c[h])?p:i.xs2js(p));return l}var En=window.String,Pn=(window.Boolean,window.Number),bn=(window.Object,window.Array),Rn=window.RegExp,Mn=window.Date,An=window.Function,Sn=window.Math,Xn=window.Error,_n=(window.SyntaxError,window.TypeError,window.isNaN),Yn=window.isFinite,kn=window.NaN,Un=window.Infinity,zn=window.btoa,Cn=window.atob,Gn=window.parseInt,Fn=En.prototype.trim?function(e){return En(e).trim()}:function(e){return En(e).replace(/^\s+|\s+$/g,"")},qn=bn.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},Kn="http://www.w3.org/2001/XMLSchema",Vn="http://www.w3.org/2005/xpath-functions";e.prototype=new Xn;var Bn={};Bn.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",Bn.XPST0003="Expression is not a valid instance of the grammar",Bn.XPTY0004="Type is not appropriate for the context in which the expression occurs",Bn.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",Bn.XPST0010="Axis not supported",Bn.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",Bn.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",Bn.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",Bn.XPTY0020="In an axis step, the context item is not a node.",Bn.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",Bn.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",Bn.FORG0001="Invalid value for cast/constructor.",Bn.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",Bn.FORG0004="fn:one-or-more called with a sequence containing no items.",Bn.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",Bn.FORG0006="Invalid argument type.",Bn.FODC0001="No context document.",Bn.FORX0001="Invalid regular expression flags.",Bn.FOCA0002="Invalid lexical value.",Bn.FOCH0002="Unsupported collation.",Bn.FONS0004="No namespace found for prefix.",t.prototype.index=0,t.prototype.length=0,t.prototype.reset=function(){this.index=0},t.prototype.peek=function(e){return this[this.index+(e||0)]||""},t.prototype.next=function(e){return(this.index+=e||1)<this.length},t.prototype.back=function(e){return(this.index-=e||1)>0},t.prototype.eof=function(){return this.index>=this.length},n.prototype.isNode=function(e){return e&&!!e.nodeType},n.prototype.getProperty=function(e,t){return e[t]},n.prototype.isSameNode=function(e,t){return e==t},n.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},n.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},n.prototype.getElementById=function(e,t){return e.getElementById(t)},n.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},o.prototype.item=null,o.prototype.position=0,o.prototype.size=0,o.prototype.scope=null,o.prototype.stack=null,o.prototype.dateTime=null,o.prototype.timezone=null,o.prototype.staticContext=null,o.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},o.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],void 0===this.scope[e]&&delete this.scope[e]))},i.prototype.baseURI=null,i.prototype.dataTypes=null,i.prototype.documents=null,i.prototype.functions=null,i.prototype.defaultFunctionNamespace=null,i.prototype.collations=null,i.prototype.defaultCollationName=Vn+"/collation/codepoint",i.prototype.collections=null,i.prototype.namespaceResolver=null,i.prototype.defaultElementNamespace=null;var Ln=/^(?:\{([^\}]+)\})?(.+)$/;i.prototype.setDataType=function(e,t){var n=e.match(Ln);n&&n[1]!=Kn&&(this.dataTypes[e]=t)},i.prototype.getDataType=function(e){var t=e.match(Ln);if(t)return t[1]==Kn?Zn[Rn.$2]:this.dataTypes[e]},i.prototype.setDocument=function(e,t){this.documents[e]=t},i.prototype.setFunction=function(e,t){var n=e.match(Ln);n&&n[1]!=Vn&&(this.functions[e]=t)},i.prototype.getFunction=function(e){var t=e.match(Ln);if(t)return t[1]==Vn?$n[Rn.$2]:this.functions[e]},i.prototype.setCollation=function(e,t){this.collations[e]=t},i.prototype.getCollation=function(e){return this.collations[e]},i.prototype.setCollection=function(e,t){this.collections[e]=t},i.prototype.getURIForPrefix=function(t){var n,o=this.namespaceResolver,i=o&&o.lookupNamespaceURI?o.lookupNamespaceURI:o;if(i instanceof An&&(n=i.call(o,t)))return n;if("fn"==t)return Vn;if("xs"==t)return Kn;if("xml"==t)return"http://www.w3.org/XML/1998/namespace";if("xmlns"==t)return"http://www.w3.org/2000/xmlns/";throw new e("XPST0081","Prefix '"+t+"' has not been declared")},i.js2xs=function(e){return e="boolean"==typeof e?new Ze(e):"number"==typeof e?_n(e)||!Yn(e)?new at(e):ce(En(e)):new Tt(En(e))},i.xs2js=function(e){return e=e instanceof Ze?e.valueOf():Le(e)?e.valueOf():e.toString()};var $n={},Hn={},Zn={},Qn={};u.prototype.internalExpression=null,u.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},s.prototype.equals=function(e,t){throw"Not implemented"},s.prototype.compare=function(e,t){throw"Not implemented"},c.ANYSIMPLETYPE_DT=1,c.STRING_DT=2,c.BOOLEAN_DT=3,c.DECIMAL_DT=4,c.FLOAT_DT=5,c.DOUBLE_DT=6,c.DURATION_DT=7,c.DATETIME_DT=8,c.TIME_DT=9,c.DATE_DT=10,c.GYEARMONTH_DT=11,c.GYEAR_DT=12,c.GMONTHDAY_DT=13,c.GDAY_DT=14,c.GMONTH_DT=15,c.HEXBINARY_DT=16,c.BASE64BINARY_DT=17,c.ANYURI_DT=18,c.QNAME_DT=19,c.NOTATION_DT=20,c.NORMALIZEDSTRING_DT=21,c.TOKEN_DT=22,c.LANGUAGE_DT=23,c.NMTOKEN_DT=24,c.NAME_DT=25,c.NCNAME_DT=26,c.ID_DT=27,c.IDREF_DT=28,c.ENTITY_DT=29,c.INTEGER_DT=30,c.NONPOSITIVEINTEGER_DT=31,c.NEGATIVEINTEGER_DT=32,c.LONG_DT=33,c.INT_DT=34,c.SHORT_DT=35,c.BYTE_DT=36,c.NONNEGATIVEINTEGER_DT=37,c.UNSIGNEDLONG_DT=38,c.UNSIGNEDINT_DT=39,c.UNSIGNEDSHORT_DT=40,c.UNSIGNEDBYTE_DT=41,c.POSITIVEINTEGER_DT=42,c.LISTOFUNION_DT=43,c.LIST_DT=44,c.UNAVAILABLE_DT=45,c.DATETIMESTAMP_DT=46,c.DAYMONTHDURATION_DT=47,c.DAYTIMEDURATION_DT=48,c.PRECISIONDECIMAL_DT=49,c.ANYATOMICTYPE_DT=50,c.ANYTYPE_DT=51,c.XT_YEARMONTHDURATION_DT=-1,c.XT_UNTYPEDATOMIC_DT=-2,l.prototype.items=null,l.prototype.evaluate=function(e){for(var t=[],n=0,o=this.items.length;n<o;n++)t=Qn.concatenate.call(e,t,this.items[n].evaluate(e));return t},h.prototype.bindings=null,h.prototype.returnExpr=null,h.prototype.evaluate=function(e){var t=[];return function(n,o){for(var i=n.bindings[o++],r=i.inExpr.evaluate(e),a=(i.namespaceURI?"{"+i.namespaceURI+"}":"")+i.localName,u=0,s=r.length;u<s;u++)e.pushVariable(a,r[u]),o<n.bindings.length?arguments.callee(n,o):t=t.concat(n.returnExpr.evaluate(e)),e.popVariable(a)}(this,0),t},m.prototype.prefix=null,m.prototype.localName=null,m.prototype.namespaceURI=null,m.prototype.inExpr=null,y.prototype.condExpr=null,y.prototype.thenExpr=null,y.prototype.elseExpr=null,y.prototype.evaluate=function(e){return this[Tn(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},g.prototype.bindings=null,g.prototype.quantifier=null,g.prototype.satisfiesExpr=null,g.prototype.evaluate=function(e){var t="every"==this.quantifier,n=!!t;return function(o,i){for(var r=o.bindings[i++],a=r.inExpr.evaluate(e),u=(r.namespaceURI?"{"+r.namespaceURI+"}":"")+r.localName,s=0,c=a.length;s<c&&(t?n:!n);s++)e.pushVariable(u,a[s]),i<o.bindings.length?arguments.callee(o,i):n=Tn(o.satisfiesExpr.evaluate(e),e),e.popVariable(u)}(this,0),[new Ze(n)]},x.prototype.prefix=null,x.prototype.localName=null,x.prototype.namespaceURI=null,x.prototype.inExpr=null,N.prototype.left=null,N.prototype.right=null,N.prototype.operator=null,N.prototype.evaluate=function(e){var t=eo[this.operator](this,e);return null==t?[]:[t]};var jn={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"},Jn={};Jn.eq=function(t,n,o){var i="";if(Le(t))Le(n)&&(i="numeric-equal");else if(t instanceof Ze)n instanceof Ze&&(i="boolean-equal");else if(t instanceof Tt){if(n instanceof Tt)return Qn["numeric-equal"].call(o,$n.compare.call(o,t,n),new bt(0))}else t instanceof Qe?n instanceof Qe&&(i="date-equal"):t instanceof xt?n instanceof xt&&(i="time-equal"):t instanceof We?n instanceof We&&(i="dateTime-equal"):t instanceof ut?n instanceof ut&&(i="duration-equal"):t instanceof wt?n instanceof wt&&(i="gYearMonth-equal"):t instanceof mt?n instanceof mt&&(i="gYear-equal"):t instanceof dt?n instanceof dt&&(i="gMonthDay-equal"):t instanceof ht?n instanceof ht&&(i="gMonth-equal"):t instanceof pt?n instanceof pt&&(i="gDay-equal"):t instanceof gt?n instanceof gt&&(i="QName-equal"):t instanceof yt?n instanceof yt&&(i="hexBinary-equal"):t instanceof He&&n instanceof He&&(i="base64Binary-equal");if(i)return Qn[i].call(o,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Jn.ne=function(e,t,n){return new Ze(!Jn.eq(e,t,n).valueOf())},Jn.gt=function(t,n,o){var i="";if(Le(t))Le(n)&&(i="numeric-greater-than");else if(t instanceof Ze)n instanceof Ze&&(i="boolean-greater-than");else if(t instanceof Tt){if(n instanceof Tt)return Qn["numeric-greater-than"].call(o,$n.compare.call(o,t,n),new bt(0))}else t instanceof Qe?n instanceof Qe&&(i="date-greater-than"):t instanceof xt?n instanceof xt&&(i="time-greater-than"):t instanceof We?n instanceof We&&(i="dateTime-greater-than"):t instanceof Dt?n instanceof Dt&&(i="yearMonthDuration-greater-than"):t instanceof Et&&n instanceof Et&&(i="dayTimeDuration-greater-than");if(i)return Qn[i].call(o,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Jn.lt=function(t,n,o){var i="";if(Le(t))Le(n)&&(i="numeric-less-than");else if(t instanceof Ze)n instanceof Ze&&(i="boolean-less-than");else if(t instanceof Tt){if(n instanceof Tt)return Qn["numeric-less-than"].call(o,$n.compare.call(o,t,n),new bt(0))}else t instanceof Qe?n instanceof Qe&&(i="date-less-than"):t instanceof xt?n instanceof xt&&(i="time-less-than"):t instanceof We?n instanceof We&&(i="dateTime-less-than"):t instanceof Dt?n instanceof Dt&&(i="yearMonthDuration-less-than"):t instanceof Et&&n instanceof Et&&(i="dayTimeDuration-less-than");if(i)return Qn[i].call(o,t,n);throw new e("XPTY0004","Cannot compare values of given types")},Jn.ge=function(t,n,o){var i="";if(Le(t))Le(n)&&(i="numeric-less-than");else if(t instanceof Ze)n instanceof Ze&&(i="boolean-less-than");else if(t instanceof Tt){if(n instanceof Tt)return Qn["numeric-greater-than"].call(o,$n.compare.call(o,t,n),new bt(-1))}else t instanceof Qe?n instanceof Qe&&(i="date-less-than"):t instanceof xt?n instanceof xt&&(i="time-less-than"):t instanceof We?n instanceof We&&(i="dateTime-less-than"):t instanceof Dt?n instanceof Dt&&(i="yearMonthDuration-less-than"):t instanceof Et&&n instanceof Et&&(i="dayTimeDuration-less-than");if(i)return new Ze(!Qn[i].call(o,t,n).valueOf());throw new e("XPTY0004","Cannot compare values of given types")},Jn.le=function(t,n,o){var i="";if(Le(t))Le(n)&&(i="numeric-greater-than");else if(t instanceof Ze)n instanceof Ze&&(i="boolean-greater-than");else if(t instanceof Tt){if(n instanceof Tt)return Qn["numeric-less-than"].call(o,$n.compare.call(o,t,n),new bt(1))}else t instanceof Qe?n instanceof Qe&&(i="date-greater-than"):t instanceof xt?n instanceof xt&&(i="time-greater-than"):t instanceof We?n instanceof We&&(i="dateTime-greater-than"):t instanceof Dt?n instanceof Dt&&(i="yearMonthDuration-greater-than"):t instanceof Et&&n instanceof Et&&(i="dayTimeDuration-greater-than");if(i)return new Ze(!Qn[i].call(o,t,n).valueOf());throw new e("XPTY0004","Cannot compare values of given types")};var Wn={};Wn.is=function(e,t,n){return Qn["is-same-node"].call(n,e,t)},Wn[">>"]=function(e,t,n){return Qn["node-after"].call(n,e,t)},Wn["<<"]=function(e,t,n){return Qn["node-before"].call(n,e,t)};var eo={"=":O,"!=":O,"<":O,"<=":O,">":O,">=":O,eq:E,ne:E,lt:E,le:E,gt:E,ge:E,is:P,">>":P,"<<":P};b.prototype.left=null,b.prototype.items=null;var to={};to["+"]=function(t,n,o){var i="",r=!1;if(Le(t)?Le(n)&&(i="numeric-add"):t instanceof Qe?n instanceof Dt?i="add-yearMonthDuration-to-date":n instanceof Et&&(i="add-dayTimeDuration-to-date"):t instanceof Dt?n instanceof Qe?(i="add-yearMonthDuration-to-date",r=!0):n instanceof We?(i="add-yearMonthDuration-to-dateTime",r=!0):n instanceof Dt&&(i="add-yearMonthDurations"):t instanceof Et?n instanceof Qe?(i="add-dayTimeDuration-to-date",r=!0):n instanceof xt?(i="add-dayTimeDuration-to-time",r=!0):n instanceof We?(i="add-dayTimeDuration-to-dateTime",r=!0):n instanceof Et&&(i="add-dayTimeDurations"):t instanceof xt?n instanceof Et&&(i="add-dayTimeDuration-to-time"):t instanceof We&&(n instanceof Dt?i="add-yearMonthDuration-to-dateTime":n instanceof Et&&(i="add-dayTimeDuration-to-dateTime")),i)return Qn[i].call(o,r?n:t,r?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},to["-"]=function(t,n,o){var i="";if(Le(t)?Le(n)&&(i="numeric-subtract"):t instanceof Qe?n instanceof Qe?i="subtract-dates":n instanceof Dt?i="subtract-yearMonthDuration-from-date":n instanceof Et&&(i="subtract-dayTimeDuration-from-date"):t instanceof xt?n instanceof xt?i="subtract-times":n instanceof Et&&(i="subtract-dayTimeDuration-from-time"):t instanceof We?n instanceof We?i="subtract-dateTimes":n instanceof Dt?i="subtract-yearMonthDuration-from-dateTime":n instanceof Et&&(i="subtract-dayTimeDuration-from-dateTime"):t instanceof Dt?n instanceof Dt&&(i="subtract-yearMonthDurations"):t instanceof Et&&n instanceof Et&&(i="subtract-dayTimeDurations"),i)return Qn[i].call(o,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},b.prototype.evaluate=function(e){var t=xn(this.left.evaluate(e),e);if(!t.length)return[];Te(0,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof Nt&&(n=at.cast(n));for(var o,i,r=0,a=this.items.length;r<a;r++){if(!(o=xn(this.items[r][1].evaluate(e),e)).length)return[];Te(0,o,"?","first operand of '"+this.items[r][0]+"'"),(i=o[0])instanceof Nt&&(i=at.cast(i)),n=to[this.items[r][0]](n,i,e)}return[n]},M.prototype.left=null,M.prototype.items=null;var no={};no["*"]=function(t,n,o){var i="",r=!1;if(Le(t)?Le(n)?i="numeric-multiply":n instanceof Dt?(i="multiply-yearMonthDuration",r=!0):n instanceof Et&&(i="multiply-dayTimeDuration",r=!0):t instanceof Dt?Le(n)&&(i="multiply-yearMonthDuration"):t instanceof Et&&Le(n)&&(i="multiply-dayTimeDuration"),i)return Qn[i].call(o,r?n:t,r?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},no.div=function(t,n,o){var i="";if(Le(t)?Le(n)&&(i="numeric-divide"):t instanceof Dt?Le(n)?i="divide-yearMonthDuration":n instanceof Dt&&(i="divide-yearMonthDuration-by-yearMonthDuration"):t instanceof Et&&(Le(n)?i="divide-dayTimeDuration":n instanceof Et&&(i="divide-dayTimeDuration-by-dayTimeDuration")),i)return Qn[i].call(o,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},no.idiv=function(t,n,o){if(Le(t)&&Le(n))return Qn["numeric-integer-divide"].call(o,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},no.mod=function(t,n,o){if(Le(t)&&Le(n))return Qn["numeric-mod"].call(o,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},M.prototype.evaluate=function(e){var t=xn(this.left.evaluate(e),e);if(!t.length)return[];Te(0,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof Nt&&(n=at.cast(n));for(var o,i,r=0,a=this.items.length;r<a;r++){if(!(o=xn(this.items[r][1].evaluate(e),e)).length)return[];Te(0,o,"?","second operand of '"+this.items[r][0]+"'"),(i=o[0])instanceof Nt&&(i=at.cast(i)),n=no[this.items[r][0]](n,i,e)}return[n]},S.prototype.operator=null,S.prototype.expression=null;var oo={};oo["-"]=function(t,n){if(Le(t))return Qn["numeric-unary-minus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},oo["+"]=function(t,n){if(Le(t))return Qn["numeric-unary-plus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},S.prototype.evaluate=function(e){var t=xn(this.expression.evaluate(e),e);if(!t.length)return[];Te(0,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof Nt&&(n=at.cast(n)),[oo[this.operator](n,e)]},Y.prototype.left=null,Y.prototype.items=null,Y.prototype.evaluate=function(e){for(var t=Tn(this.left.evaluate(e),e),n=0,o=this.items.length;n<o&&!t;n++)t=Tn(this.items[n].evaluate(e),e);return[new Ze(t)]},U.prototype.left=null,U.prototype.items=null,U.prototype.evaluate=function(e){for(var t=Tn(this.left.evaluate(e),e),n=0,o=this.items.length;n<o&&t;n++)t=Tn(this.items[n].evaluate(e),e);return[new Ze(t)]},C.prototype.predicates=null,C.prototype.applyPredicates=function(e,t){for(var n,o=t.item,i=t.position,r=t.size,a=0,u=this.predicates.length;a<u;a++){n=e,e=[];for(var s,c=0,l=n.length;c<l;c++)t.item=n[c],t.position=c+1,t.size=l,1==(s=this.predicates[a].evaluate(t)).length&&Le(s[0])?s[0].valueOf()==c+1&&e.push(n[c]):Tn(s,t)&&e.push(n[c])}return t.item=o,t.position=i,t.size=r,e},q.prototype=new C,q.prototype.axis=null,q.prototype.test=null;var io={};io.attribute={},io.child={},io.descendant={},io["descendant-or-self"]={},io.following={},io["following-sibling"]={},io.self={},io.ancestor={},io["ancestor-or-self"]={},io.parent={},io.preceding={},io["preceding-sibling"]={},q.prototype.evaluate=function(t){var n=t.item;if(!t.DOMAdapter.isNode(n))throw new e("XPTY0020");var o=[],i=t.DOMAdapter.getProperty,r=i(n,"nodeType");switch(this.axis){case"attribute":if(1==r)for(var a=i(n,"attributes"),u=0,s=a.length;u<s;u++)o.push(a[u]);break;case"child":for(f=i(n,"firstChild");f;f=i(f,"nextSibling"))o.push(f);break;case"descendant-or-self":o.push(n);case"descendant":V(i(n,"firstChild"),o,i);break;case"following":for(l=n;l;l=i(l,"parentNode"))(c=i(l,"nextSibling"))&&V(c,o,i);break;case"following-sibling":for(f=n;f=i(f,"nextSibling");)o.push(f);break;case"self":o.push(n);break;case"ancestor-or-self":o.push(n);case"ancestor":for(f=2==r?i(n,"ownerElement"):n;f=i(f,"parentNode");)o.push(f);break;case"parent":(l=2==r?i(n,"ownerElement"):i(n,"parentNode"))&&o.push(l);break;case"preceding":for(var c,l=n;l;l=i(l,"parentNode"))(c=i(l,"previousSibling"))&&B(c,o,i);break;case"preceding-sibling":for(var f=n;f=i(f,"previousSibling");)o.push(f)}if(o.length&&!(this.test instanceof Q&&"node"==this.test.name)){var p=o;o=[];for(var u=0,s=p.length;u<s;u++)this.test.test(p[u],t)&&o.push(p[u])}switch(o.length&&this.predicates.length&&(o=this.applyPredicates(o,t)),this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":o.reverse()}return o},L.prototype.items=null,L.prototype.evaluate=function(t){for(var n,o=t.item,i=[o],r=0,a=this.items.length;r<a;r++){n=[];for(var u=0,s=i.length;u<s;u++){t.item=i[u];for(var c=0,l=this.items[r].evaluate(t),f=l.length;c<f;c++){if(r<a-1&&!t.DOMAdapter.isNode(l[c]))throw new e("XPTY0019");-1==qn(n,l[c])&&n.push(l[c])}}i=n}return t.item=o,In(i,t)},Q.prototype=new H,Q.prototype.name=null,Q.prototype.args=null;var ro={};ro["document-node"]={},ro.element={},ro.attribute={},ro["processing-instruction"]={},ro.comment={},ro.text={},ro.node={},ro["schema-element"]={},ro["schema-attribute"]={},Q.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,o=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!o;case"attribute":if(2!=o)return!1;break;case"document-node":return 9==o;case"element":return 1==o;case"processing-instruction":if(7!=o)return!1;break;case"comment":return 8==o;case"text":return 3==o||4==o;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return 2==o?"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"):7!=o||"xml"!=n(e,"target")},J.prototype=new H,J.prototype.prefix=null,J.prototype.localName=null,J.prototype.namespaceURI=null;var ao=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;J.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,o=n(e,"nodeType");if(1==o||2==o){if("*"==this.localName)return(1==o||"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"))&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return"*"==this.namespaceURI||2==o&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},te.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},oe.prototype.evaluate=function(t){if(null==t.item)throw new e("XPDY0002","Dynamic context does not have context item initialized");return[t.item]},re.prototype.value=null,re.prototype.evaluate=function(e){return[this.value]},ue.prototype=new re;var uo=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;le.prototype=new re;var so=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;pe.prototype=new C,pe.prototype.expression=null,pe.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},de.prototype.prefix=null,de.prototype.localName=null,de.prototype.namespaceURI=null,de.prototype.evaluate=function(t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(t.scope.hasOwnProperty(n))return[t.scope[n]];throw new e("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},we.prototype.prefix=null,we.prototype.localName=null,we.prototype.namespaceURI=null,we.prototype.args=null,we.prototype.evaluate=function(t){for(var n,o,i=[],r=0,a=this.args.length;r<a;r++)i.push(this.args[r].evaluate(t));var u=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==Vn){if(o=$n[this.localName])return(n=Hn[this.localName])&&ve(this.localName,n,0,i,t),null==(s=o.apply(t,i))?[]:s instanceof bn?s:[s];throw new e("XPST0017","Unknown system function: "+u+"()")}if(this.namespaceURI==Kn){if((o=Zn[this.localName])&&"NOTATION"!=this.localName&&"anyAtomicType"!=this.localName)return ve(this.localName,[[Be]],0,i,t),[o.cast(i[0])];throw new e("XPST0017","Unknown type constructor function: "+u+"()")}if(o=t.staticContext.getFunction(u)){var s=o.apply(t,i);return null==s?[]:s instanceof bn?s:[s]}throw new e("XPST0017","Unknown user function: "+u+"()")};var co=["first","second","third","fourth","fifth"];xe.prototype.left=null,xe.prototype.items=null,xe.prototype.evaluate=function(e){for(var t,n=this.left.evaluate(e),o=0,i=this.items.length;o<i;o++)n=Qn[(t=this.items[o])[0]].call(e,n,t[1].evaluate(e));return n},Ne.prototype.left=null,Ne.prototype.right=null,Ne.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n="first operand of 'to'";Te(0,t,"?",n),ge(e,t,bt,n);var o=this.right.evaluate(e);return o.length?(n="second operand of 'to'",Te(0,o,"?",n),ge(e,o,bt,n),Qn.to.call(e,t[0],o[0])):[]},Oe.prototype.left=null,Oe.prototype.items=null,Oe.prototype.evaluate=function(e){for(var t=this.left.evaluate(e),n=0,o=this.items.length;n<o;n++)t=Qn.union.call(e,t,this.items[n].evaluate(e));return t},Pe.prototype.expression=null,Pe.prototype.type=null,Pe.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,o=this.type.occurence;if(!n)return[new Ze(!t.length)];if(!t.length)return[new Ze("?"==o||"*"==o)];if(1!=t.length&&"+"!=o&&"*"!=o)return[new Ze(!1)];if(!n.test)return[new Ze(!0)];for(var i=!0,r=0,a=t.length;r<a&&i;r++)i=n.test.test(t[r],e);return[new Ze(i)]},Re.prototype.expression=null,Re.prototype.type=null,Re.prototype.evaluate=function(t){var n=this.expression.evaluate(t),o=this.type.itemType,i=this.type.occurence;if(!o){if(n.length)throw new e("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return n}if("?"!=i&&"*"!=i&&!n.length)throw new e("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if("+"!=i&&"*"!=i&&1!=n.length)throw new e("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!o.test)return n;for(var r=0,a=n.length;r<a;r++)if(!o.test.test(n[r],t))throw new e("XPDY0050","Required item type of value in 'treat as' expression is "+(o.test.prefix?o.test.prefix+":":"")+o.test.localName);return n},Ae.prototype.expression=null,Ae.prototype.type=null,Ae.prototype.evaluate=function(t){var n=this.expression.evaluate(t),o=this.type.itemType,i=this.type.occurence;if(n.length>1)return[new Ze(!1)];if(!n.length)return[new Ze("?"==i)];try{o.cast(xn(n,t)[0])}catch(t){if("XPST0051"==t.code)throw t;if("XPST0017"==t.code)throw new e("XPST0080","No value is castable to "+(o.prefix?o.prefix+":":"")+o.localName);return[new Ze(!1)]}return[new Ze(!0)]},Xe.prototype.expression=null,Xe.prototype.type=null,Xe.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return Te(0,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(xn(t,e)[0],e)]:[]},Ye.prototype.prefix=null,Ye.prototype.localName=null,Ye.prototype.namespaceURI=null,Ye.prototype.test=function(t,n){var o=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==Kn?Zn[this.localName]:n.staticContext.getDataType(o);if(i)return t instanceof i;throw new e("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Ye.prototype.cast=function(t,n){var o=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==Kn?Zn[this.localName]:n.staticContext.getDataType(o);if(i)return i.cast(t);throw new e("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},Ue.prototype.test=null,Ce.prototype.itemType=null,Ce.prototype.occurence=null,Fe.prototype.itemType=null,Fe.prototype.occurence=null,Ke.prototype.builtInKind=c.ANYTYPE_DT,(Ve.prototype=new Ke).builtInKind=c.ANYSIMPLETYPE_DT,Ve.prototype.primitiveKind=null,Ve.PRIMITIVE_ANYURI="anyURI",Ve.PRIMITIVE_BASE64BINARY="base64Binary",Ve.PRIMITIVE_BOOLEAN="boolean",Ve.PRIMITIVE_DATE="date",Ve.PRIMITIVE_DATETIME="dateTime",Ve.PRIMITIVE_DECIMAL="decimal",Ve.PRIMITIVE_DOUBLE="double",Ve.PRIMITIVE_DURATION="duration",Ve.PRIMITIVE_FLOAT="float",Ve.PRIMITIVE_GDAY="gDay",Ve.PRIMITIVE_GMONTH="gMonth",Ve.PRIMITIVE_GMONTHDAY="gMonthDay",Ve.PRIMITIVE_GYEAR="gYear",Ve.PRIMITIVE_GYEARMONTH="gYearMonth",Ve.PRIMITIVE_HEXBINARY="hexBinary",Ve.PRIMITIVE_NOTATION="NOTATION",Ve.PRIMITIVE_QNAME="QName",Ve.PRIMITIVE_STRING="string",Ve.PRIMITIVE_TIME="time",Be.prototype=new Ve,Be.prototype.builtInKind=c.ANYATOMICTYPE_DT,Be.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},a("anyAtomicType",Be),($e.prototype=new Be).builtInKind=c.ANYURI_DT,$e.prototype.primitiveKind=Ve.PRIMITIVE_ANYURI,$e.prototype.scheme=null,$e.prototype.authority=null,$e.prototype.path=null,$e.prototype.query=null,$e.prototype.fragment=null,$e.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var lo=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;$e.cast=function(t){if(t instanceof $e)return t;if(t instanceof Tt||t instanceof Nt){var n;if(n=Fn(t).match(lo))return new $e(n[2],n[4],n[5],n[7],n[9]);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:anyURI can never succeed")},a("anyURI",$e),(He.prototype=new Be).builtInKind=c.BASE64BINARY_DT,He.prototype.primitiveKind=Ve.PRIMITIVE_BASE64BINARY,He.prototype.value=null,He.prototype.valueOf=function(){return this.value},He.prototype.toString=function(){return this.value};var fo=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;He.cast=function(t){if(t instanceof He)return t;if(t instanceof Tt||t instanceof Nt){if(n=Fn(t).match(fo))return new He(n[0]);throw new e("FORG0001")}if(t instanceof yt){for(var n=t.valueOf().match(/.{2}/g),o=[],i=0,r=n.length;i<r;i++)o.push(En.fromCharCode(Gn(n[i],16)));return new He(zn(o.join("")))}throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed")},a("base64Binary",He),Ze.prototype=new Be,Ze.prototype.builtInKind=c.BOOLEAN_DT,Ze.prototype.primitiveKind=Ve.PRIMITIVE_BOOLEAN,Ze.prototype.value=null,Ze.prototype.valueOf=function(){return this.value},Ze.prototype.toString=function(){return En(this.value)};var po=/^(0|1|true|false)$/;Ze.cast=function(t){if(t instanceof Ze)return t;if(t instanceof Tt||t instanceof Nt){var n;if(n=Fn(t).match(po))return new Ze("1"==n[1]||"true"==n[1]);throw new e("FORG0001")}if(Le(t))return new Ze(0!=t);throw new e("XPTY0004","Casting value '"+t+"' to xs:boolean can never succeed")},a("boolean",Ze),Qe.prototype=new Be,Qe.prototype.builtInKind=c.DATE_DT,Qe.prototype.primitiveKind=Ve.PRIMITIVE_DATE,Qe.prototype.year=null,Qe.prototype.month=null,Qe.prototype.day=null,Qe.prototype.timezone=null,Qe.prototype.negative=null,Qe.prototype.toString=function(){return nt(this)+tt(this)};var ho=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Qe.cast=function(t){if(t instanceof Qe)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(ho);if(n){var o=+n[2],i=+n[3],r=+n[4];if(r-1<je(o,i))return new Qe(o,i,r,n[5]?"Z"==n[5]?0:("-"==n[6]?-1:1)*(60*n[7]+1*n[8]):null,"-"==n[1]);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof We)return new Qe(t.year,t.month,t.day,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:date can never succeed")};var mo=[31,28,31,30,31,30,31,31,30,31,30,31];a("date",Qe),We.prototype=new Be,We.prototype.builtInKind=c.DATETIME_DT,We.prototype.primitiveKind=Ve.PRIMITIVE_DATETIME,We.prototype.year=null,We.prototype.month=null,We.prototype.day=null,We.prototype.hours=null,We.prototype.minutes=null,We.prototype.seconds=null,We.prototype.timezone=null,We.prototype.negative=null,We.prototype.toString=function(){return nt(this)+"T"+ot(this)+tt(this)};var wo=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;We.cast=function(t){if(t instanceof We)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(wo);if(n){var o=+n[2],i=+n[3],r=+n[4],a=!!n[10];if(r-1<je(o,i))return it(new We(o,i,r,a?24:+n[6],a?0:+n[7],Pn((a?0:n[8])+"."+(a?0:n[9]||0)),n[12]?"Z"==n[12]?0:("-"==n[13]?-1:1)*(60*n[14]+1*n[15]):null,"-"==n[1]));throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Qe)return new We(t.year,t.month,t.day,0,0,0,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dateTime can never succeed")},a("dateTime",We),rt.prototype=new Be,rt.prototype.builtInKind=c.DECIMAL_DT,rt.prototype.primitiveKind=Ve.PRIMITIVE_DECIMAL,rt.prototype.value=null,rt.prototype.valueOf=function(){return this.value},rt.prototype.toString=function(){return En(this.value)};var yo=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;rt.cast=function(t){if(t instanceof rt)return t;if(t instanceof Tt||t instanceof Nt){if(Fn(t).match(yo))return new rt(+t);throw new e("FORG0001")}if(t instanceof Ze)return new rt(1*t);if(Le(t)){if(_n(t)||!Yn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:decimal");return new rt(+t)}throw new e("XPTY0004","Casting value '"+t+"' to xs:decimal can never succeed")},a("decimal",rt),(at.prototype=new Be).builtInKind=c.DOUBLE_DT,at.prototype.primitiveKind=Ve.PRIMITIVE_DOUBLE,at.prototype.value=null,at.prototype.valueOf=function(){return this.value},at.prototype.toString=function(){return En(this.value)};var vo=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;at.cast=function(t){if(t instanceof at)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(vo);if(n)return new at(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof Ze)return new at(1*t);if(Le(t))return new at(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:double can never succeed")},a("double",at),ut.prototype=new Be,ut.prototype.builtInKind=c.DURATION_DT,ut.prototype.primitiveKind=Ve.PRIMITIVE_DURATION,ut.prototype.year=null,ut.prototype.month=null,ut.prototype.day=null,ut.prototype.hours=null,ut.prototype.minutes=null,ut.prototype.seconds=null,ut.prototype.negative=null,ut.prototype.toString=function(){return(this.negative?"-":"")+"P"+(st(this)+ct(this)||"T0S")};var go=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;ut.cast=function(t){if(t instanceof Dt)return new ut(t.year,t.month,0,0,0,0,t.negative);if(t instanceof Et)return new ut(0,0,t.day,t.hours,t.minutes,t.seconds,t.negative);if(t instanceof ut)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(go);if(n)return lt(new ut(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,+n[6]||0,+n[7]||0,"-"==n[1]));throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:duration can never succeed")},a("duration",ut),(ft.prototype=new Be).builtInKind=c.FLOAT_DT,ft.prototype.primitiveKind=Ve.PRIMITIVE_FLOAT,ft.prototype.value=null,ft.prototype.valueOf=function(){return this.value},ft.prototype.toString=function(){return En(this.value)};var To=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;ft.cast=function(t){if(t instanceof ft)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(To);if(n)return new ft(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof Ze)return new ft(1*t);if(Le(t))return new ft(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:float can never succeed")},a("float",ft),(pt.prototype=new Be).builtInKind=c.GDAY_DT,pt.prototype.primitiveKind=Ve.PRIMITIVE_GDAY,pt.prototype.day=null,pt.prototype.timezone=null,pt.prototype.toString=function(){return"---"+et(this.day)+tt(this)};var xo=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;pt.cast=function(t){if(t instanceof pt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(xo);if(n)return new pt(+n[1],n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null);throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new pt(t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gDay can never succeed")},a("gDay",pt),(ht.prototype=new Be).builtInKind=c.GMONTH_DT,ht.prototype.primitiveKind=Ve.PRIMITIVE_GMONTH,ht.prototype.month=null,ht.prototype.timezone=null,ht.prototype.toString=function(){return"--"+et(this.month)+tt(this)};var Io=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;ht.cast=function(t){if(t instanceof ht)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Io);if(n)return new ht(+n[1],n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null);throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new ht(t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonth can never succeed")},a("gMonth",ht),(dt.prototype=new Be).builtInKind=c.GMONTHDAY_DT,dt.prototype.primitiveKind=Ve.PRIMITIVE_GMONTHDAY,dt.prototype.month=null,dt.prototype.day=null,dt.prototype.timezone=null,dt.prototype.toString=function(){return"--"+et(this.month)+"-"+et(this.day)+tt(this)};var No=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;dt.cast=function(t){if(t instanceof dt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(No);if(n){var o=+n[1],i=+n[2];if(i-1<je(1976,o))return new dt(o,i,n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new dt(t.month,t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonthDay can never succeed")},a("gMonthDay",dt),(mt.prototype=new Be).builtInKind=c.GYEAR_DT,mt.prototype.primitiveKind=Ve.PRIMITIVE_GYEAR,mt.prototype.year=null,mt.prototype.timezone=null,mt.prototype.toString=function(){return et(this.year)+tt(this)};var Do=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;mt.cast=function(t){if(t instanceof mt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Do);if(n)return new mt(+n[1],n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null);throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new mt(t.year,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYear can never succeed")},a("gYear",mt),(wt.prototype=new Be).builtInKind=c.GYEARMONTH_DT,wt.prototype.primitiveKind=Ve.PRIMITIVE_GYEARMONTH,wt.prototype.year=null,wt.prototype.month=null,wt.prototype.timezone=null,wt.prototype.toString=function(){return et(this.year)+"-"+et(this.month)+tt(this)};var Oo=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;wt.cast=function(t){if(t instanceof wt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Oo);if(n)return new wt(+n[1],+n[2],n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null);throw new e("FORG0001")}if(t instanceof Qe||t instanceof We)return new wt(t.year,t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYearMonth can never succeed")},a("gYearMonth",wt),(yt.prototype=new Be).builtInKind=c.HEXBINARY_DT,yt.prototype.primitiveKind=Ve.PRIMITIVE_HEXBINARY,yt.prototype.value=null,yt.prototype.valueOf=function(){return this.value},yt.prototype.toString=function(){return this.value};var Eo=/^([0-9a-fA-F]{2})*$/;yt.cast=function(t){if(t instanceof yt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Eo);if(n)return new yt(n[0].toUpperCase());throw new e("FORG0001")}if(t instanceof He){for(var o,i=Cn(t.valueOf()),r=[],a=0,u=i.length;a<u;a++)o=i.charCodeAt(a).toString(16),r.push(new bn(3-o.length).join("0")+o);return new yt(r.join(""))}throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed")},a("hexBinary",yt),(vt.prototype=new Be).builtInKind=c.NOTATION_DT,vt.prototype.primitiveKind=Ve.PRIMITIVE_NOTATION,vt.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:NOTATION")},a("NOTATION",vt),(gt.prototype=new Be).builtInKind=c.QNAME_DT,gt.prototype.primitiveKind=Ve.PRIMITIVE_QNAME,gt.prototype.prefix=null,gt.prototype.localName=null,gt.prototype.namespaceURI=null,gt.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var Po=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;gt.cast=function(t){if(t instanceof gt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Po);if(n)return new gt(n[1]||null,n[2],null);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:QName can never succeed")},a("QName",gt),Tt.prototype=new Be,Tt.prototype.value=null,Tt.prototype.builtInKind=c.STRING_DT,Tt.prototype.primitiveKind=Ve.PRIMITIVE_STRING,Tt.prototype.valueOf=function(){return this.value},Tt.prototype.toString=function(){return this.value},Tt.cast=function(e){return new Tt(En(e))},a("string",Tt),xt.prototype=new Be,xt.prototype.builtInKind=c.TIME_DT,xt.prototype.primitiveKind=Ve.PRIMITIVE_TIME,xt.prototype.hours=null,xt.prototype.minutes=null,xt.prototype.seconds=null,xt.prototype.timezone=null,xt.prototype.toString=function(){return ot(this)+tt(this)};var bo=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;xt.cast=function(t){if(t instanceof xt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(bo);if(n){var o=!!n[6];return new xt(o?0:+n[2],o?0:+n[3],Pn((o?0:n[4])+"."+(o?0:n[5]||0)),n[8]?"Z"==n[8]?0:("-"==n[9]?-1:1)*(60*n[10]+1*n[11]):null)}throw new e("FORG0001")}if(t instanceof We)return new xt(t.hours,t.minutes,t.seconds,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:time can never succeed")},a("time",xt),Nt.prototype=new Be,Nt.prototype.builtInKind=c.XT_UNTYPEDATOMIC_DT,Nt.prototype.toString=function(){return En(this.value)},Nt.cast=function(e){return e instanceof Nt?e:new Nt(En(e))},a("untypedAtomic",Nt),Dt.prototype=new ut,Dt.prototype.builtInKind=c.XT_YEARMONTHDURATION_DT,Dt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(st(this)||"0M")};var Ro=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;Dt.cast=function(t){if(t instanceof Dt)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Ro);if(n)return Ot(new Dt(+n[2]||0,+n[3]||0,"-"==n[1]));throw new e("FORG0001")}if(t instanceof Et)return new Dt(0,0);if(t instanceof ut)return new Dt(t.year,t.month,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:yearMonthDuration can never succeed")},a("yearMonthDuration",Dt),Et.prototype=new ut,Et.prototype.builtInKind=c.DAYTIMEDURATION_DT,Et.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ct(this)||"T0S")};var Mo=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;Et.cast=function(t){if(t instanceof Et)return t;if(t instanceof Tt||t instanceof Nt){var n=Fn(t).match(Mo);if(n)return Pt(new Et(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,"-"==n[1]));throw new e("FORG0001")}if(t instanceof Dt)return new Et(0,0,0,0);if(t instanceof ut)return new Et(t.day,t.hours,t.minutes,t.seconds,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dayTimeDuration can never succeed")},a("dayTimeDuration",Et),bt.prototype=new rt,bt.prototype.builtInKind=c.INTEGER_DT;var Ao=/^[-+]?[0-9]+$/;bt.cast=function(t){if(t instanceof bt)return t;if(t instanceof Tt||t instanceof Nt){if(Fn(t).match(Ao))return new bt(~~t);throw new e("FORG0001")}if(t instanceof Ze)return new bt(1*t);if(Le(t)){if(_n(t)||!Yn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:integer");return new bt(~~t)}throw new e("XPTY0004","Casting value '"+t+"' to xs:integer can never succeed")},a("integer",bt),(Rt.prototype=new bt).builtInKind=c.NONPOSITIVEINTEGER_DT,Rt.cast=function(e){return new Rt(Pn(e))},a("nonPositiveInteger",Rt),(Mt.prototype=new Rt).builtInKind=c.NEGATIVEINTEGER_DT,Mt.cast=function(e){return new Mt(Pn(e))},a("negativeInteger",Mt),(At.prototype=new bt).builtInKind=c.LONG_DT,At.cast=function(e){return new At(Pn(e))},a("long",At),(St.prototype=new At).builtInKind=c.INT_DT,St.cast=function(e){return new St(Pn(e))},a("int",St),(Xt.prototype=new St).builtInKind=c.SHORT_DT,Xt.cast=function(e){return new Xt(Pn(e))},a("short",Xt),(_t.prototype=new Xt).builtInKind=c.BYTE_DT,_t.cast=function(e){return new _t(Pn(e))},a("byte",_t),(Yt.prototype=new bt).builtInKind=c.NONNEGATIVEINTEGER_DT,Yt.cast=function(e){return new Yt(Pn(e))},a("nonNegativeInteger",Yt),(kt.prototype=new Yt).builtInKind=c.POSITIVEINTEGER_DT,kt.cast=function(e){return new kt(Pn(e))},a("positiveInteger",kt),(Ut.prototype=new Yt).builtInKind=c.UNSIGNEDLONG_DT,Ut.cast=function(e){return new Ut(Pn(e))},a("unsignedLong",Ut),(zt.prototype=new Yt).builtInKind=c.UNSIGNEDINT_DT,zt.cast=function(e){return new zt(Pn(e))},a("unsignedInt",zt),(Ct.prototype=new zt).builtInKind=c.UNSIGNEDSHORT_DT,Ct.cast=function(e){return new Ct(Pn(e))},a("unsignedShort",Ct),(Gt.prototype=new Ct).builtInKind=c.UNSIGNEDBYTE_DT,Gt.cast=function(e){return new Gt(Pn(e))},a("unsignedByte",Gt),(Ft.prototype=new Tt).builtInKind=c.NORMALIZEDSTRING_DT,Ft.cast=function(e){return new Ft(En(e))},a("normalizedString",Ft),(qt.prototype=new Ft).builtInKind=c.TOKEN_DT,qt.cast=function(e){return new qt(En(e))},a("token",qt),(Kt.prototype=new qt).builtInKind=c.NAME_DT,Kt.cast=function(e){return new Kt(En(e))},a("Name",Kt),(Vt.prototype=new Kt).builtInKind=c.NCNAME_DT,Vt.cast=function(e){return new Vt(En(e))},a("NCName",Vt),(Bt.prototype=new Vt).builtInKind=c.ENTITY_DT,Bt.cast=function(e){return new Bt(En(e))},a("ENTITY",Bt),(Lt.prototype=new Vt).builtInKind=c.ID_DT,Lt.cast=function(e){return new Lt(En(e))},a("ID",Lt),($t.prototype=new qt).builtInKind=c.LANGUAGE_DT,$t.cast=function(e){return new $t(En(e))},a("language",$t),(Ht.prototype=new qt).builtInKind=c.NMTOKEN_DT,Ht.cast=function(e){return new Ht(En(e))},a("NMTOKEN",Ht),Qt.prototype=new Zt,jt.prototype=new Qt,Jt.prototype=new Qt,Wt.prototype=new Qt,en.prototype=new Qt,tn.prototype=new Qt,nn.prototype=new Qt,Qn["hexBinary-equal"]=function(e,t){return new Ze(e.valueOf()==t.valueOf())},Qn["base64Binary-equal"]=function(e,t){return new Ze(e.valueOf()==t.valueOf())},Qn["boolean-equal"]=function(e,t){return new Ze(e.valueOf()==t.valueOf())},Qn["boolean-less-than"]=function(e,t){return new Ze(e.valueOf()<t.valueOf())},Qn["boolean-greater-than"]=function(e,t){return new Ze(e.valueOf()>t.valueOf())},Qn["yearMonthDuration-less-than"]=function(e,t){return new Ze(fn(e)<fn(t))},Qn["yearMonthDuration-greater-than"]=function(e,t){return new Ze(fn(e)>fn(t))},Qn["dayTimeDuration-less-than"]=function(e,t){return new Ze(cn(e)<cn(t))},Qn["dayTimeDuration-greater-than"]=function(e,t){return new Ze(cn(e)>cn(t))},Qn["duration-equal"]=function(e,t){return new Ze(e.negative==t.negative&&fn(e)==fn(t)&&cn(e)==cn(t))},Qn["dateTime-equal"]=function(e,t){return an(e,t,"eq")},Qn["dateTime-less-than"]=function(e,t){return an(e,t,"lt")},Qn["dateTime-greater-than"]=function(e,t){return an(e,t,"gt")},Qn["date-equal"]=function(e,t){return rn(e,t,"eq")},Qn["date-less-than"]=function(e,t){return rn(e,t,"lt")},Qn["date-greater-than"]=function(e,t){return rn(e,t,"gt")},Qn["time-equal"]=function(e,t){return on(e,t,"eq")},Qn["time-less-than"]=function(e,t){return on(e,t,"lt")},Qn["time-greater-than"]=function(e,t){return on(e,t,"gt")},Qn["gYearMonth-equal"]=function(e,t){return an(new We(e.year,e.month,je(e.year,e.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new We(t.year,t.month,je(t.year,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Qn["gYear-equal"]=function(e,t){return an(new We(e.year,1,1,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(t.year,1,1,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Qn["gMonthDay-equal"]=function(e,t){return an(new We(1972,e.month,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,t.month,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Qn["gMonth-equal"]=function(e,t){return an(new We(1972,e.month,je(1972,t.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,t.month,je(1972,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Qn["gDay-equal"]=function(e,t){return an(new We(1972,12,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new We(1972,12,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Qn["add-yearMonthDurations"]=function(e,t){return pn(fn(e)+fn(t))},Qn["subtract-yearMonthDurations"]=function(e,t){return pn(fn(e)-fn(t))},Qn["multiply-yearMonthDuration"]=function(e,t){return pn(fn(e)*t)},Qn["divide-yearMonthDuration"]=function(e,t){return pn(fn(e)/t)},Qn["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new rt(fn(e)/fn(t))},Qn["add-dayTimeDurations"]=function(e,t){return ln(cn(e)+cn(t))},Qn["subtract-dayTimeDurations"]=function(e,t){return ln(cn(e)-cn(t))},Qn["multiply-dayTimeDuration"]=function(e,t){return ln(cn(e)*t)},Qn["divide-dayTimeDuration"]=function(e,t){return ln(cn(e)/t)},Qn["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new rt(cn(e)/cn(t))},Qn["subtract-dateTimes"]=function(e,t){return ln(dn(e)-dn(t))},Qn["subtract-dates"]=function(e,t){return ln(dn(e)-dn(t))},Qn["subtract-times"]=function(e,t){return ln(hn(e)-hn(t))},Qn["add-yearMonthDuration-to-dateTime"]=function(e,t){return un(e,t,"+")},Qn["add-dayTimeDuration-to-dateTime"]=function(e,t){return sn(e,t,"+")},Qn["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return un(e,t,"-")},Qn["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return sn(e,t,"-")},Qn["add-yearMonthDuration-to-date"]=function(e,t){return un(e,t,"+")},Qn["add-dayTimeDuration-to-date"]=function(e,t){return sn(e,t,"+")},Qn["subtract-yearMonthDuration-from-date"]=function(e,t){return un(e,t,"-")},Qn["subtract-dayTimeDuration-from-date"]=function(e,t){return sn(e,t,"-")},Qn["add-dayTimeDuration-to-time"]=function(e,t){var n=new xt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,It(n)},Qn["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new xt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,It(n)},Qn["is-same-node"]=function(e,t){return new Ze(this.DOMAdapter.isSameNode(e,t))},Qn["node-before"]=function(e,t){return new Ze(!!(4&this.DOMAdapter.compareDocumentPosition(e,t)))},Qn["node-after"]=function(e,t){return new Ze(!!(2&this.DOMAdapter.compareDocumentPosition(e,t)))},Qn["numeric-add"]=function(e,t){var n=e.valueOf(),o=t.valueOf(),i=Sn.pow(10,mn(n,o));return wn(e,t,(n*i+o*i)/i)},Qn["numeric-subtract"]=function(e,t){var n=e.valueOf(),o=t.valueOf(),i=Sn.pow(10,mn(n,o));return wn(e,t,(n*i-o*i)/i)},Qn["numeric-multiply"]=function(e,t){var n=e.valueOf(),o=t.valueOf(),i=Sn.pow(10,mn(n,o));return wn(e,t,n*i*(o*i)/(i*i))},Qn["numeric-divide"]=function(e,t){var n=e.valueOf(),o=t.valueOf(),i=Sn.pow(10,mn(n,o));return wn(e,t,e*i/(t*i))},Qn["numeric-integer-divide"]=function(e,t){return new bt(~~(e/t))},Qn["numeric-mod"]=function(e,t){var n=e.valueOf(),o=t.valueOf(),i=Sn.pow(10,mn(n,o));return wn(e,t,n*i%(o*i)/i)},Qn["numeric-unary-plus"]=function(e){return e},Qn["numeric-unary-minus"]=function(e){return e.value*=-1,e},Qn["numeric-equal"]=function(e,t){return new Ze(e.valueOf()==t.valueOf())},Qn["numeric-less-than"]=function(e,t){return new Ze(e.valueOf()<t.valueOf())},Qn["numeric-greater-than"]=function(e,t){return new Ze(e.valueOf()>t.valueOf())},Qn["QName-equal"]=function(e,t){return new Ze(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},Qn.concatenate=function(e,t){return e.concat(t)},Qn.union=function(t,n){for(var o=[],i=0,r=t.length;i<r;i++){if(!this.DOMAdapter.isNode(a=t[i]))throw new e("XPTY0004","Required item type of first operand of 'union' is node()");-1==qn(o,a)&&o.push(a)}for(var a,i=0,r=n.length;i<r;i++){if(!this.DOMAdapter.isNode(a=n[i]))throw new e("XPTY0004","Required item type of second operand of 'union' is node()");-1==qn(o,a)&&o.push(a)}return In(o,this)},Qn.intersect=function(t,n){for(var o,i,r=[],a=0,u=t.length;a<u;a++){if(!this.DOMAdapter.isNode(o=t[a]))throw new e("XPTY0004","Required item type of second operand of 'intersect' is node()");i=!1;for(var s=0,c=n.length;s<c&&!i;s++){if(!this.DOMAdapter.isNode(n[s]))throw new e("XPTY0004","Required item type of first operand of 'intersect' is node()");i=this.DOMAdapter.isSameNode(n[s],o)}i&&-1==qn(r,o)&&r.push(o)}return In(r,this)},Qn.except=function(t,n){for(var o,i,r=[],a=0,u=t.length;a<u;a++){if(!this.DOMAdapter.isNode(o=t[a]))throw new e("XPTY0004","Required item type of second operand of 'except' is node()");i=!1;for(var s=0,c=n.length;s<c&&!i;s++){if(!this.DOMAdapter.isNode(n[s]))throw new e("XPTY0004","Required item type of first operand of 'except' is node()");i=this.DOMAdapter.isSameNode(n[s],o)}i||-1!=qn(r,o)||r.push(o)}return In(r,this)},Qn.to=function(e,t){for(var n=[],o=e.valueOf(),i=t.valueOf();o<=i;o++)n.push(new bt(o));return n},r("node-name",[[Qt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new gt(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:case 6:throw"Not implemented";case 7:return new gt(null,t(e,"target"),null);case 10:return new gt(null,t(e,"name"),null)}}return null}),r("nilled",[[Qt,"?"]],function(e){return null!=e&&1==this.DOMAdapter.getProperty(e,"nodeType")?new Ze(!1):null}),r("string",[[Zt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=this.item}return null==t?new Tt(""):Tt.cast(xn([t],this)[0])}),r("data",[[Zt,"*"]],function(e){return xn(e,this)}),r("base-uri",[[Qt,"?",!0]],function(t){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","base-uri() function called when the context item is not a node");t=this.item}return $e.cast(new Tt(this.DOMAdapter.getProperty(t,"baseURI")||""))}),r("document-uri",[[Qt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;if(9==t(e,"nodeType"))return $e.cast(new Tt(t(e,"documentURI")||""))}return null}),r("resolve-uri",[[Tt,"?"],[Tt,"",!0]],function(t,n){var n;if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","resolve-uri() function called when the context item is not a node");n=new Tt(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(null==t)return null;if(""==t.valueOf()||"#"==t.valueOf().charAt(0))return $e.cast(n);var o=$e.cast(t);if(o.scheme)return o;var i=$e.cast(n);if(o.scheme=i.scheme,!o.authority&&(o.authority=i.authority,"/"!=o.path.charAt(0))){var r=o.path.split("/"),a=i.path.split("/");a.pop();for(var u=""==a[0]?1:0,s=0,c=r.length;s<c;s++)".."==r[s]?a.length>u?a.pop():(a.push(r[s]),u++):"."!=r[s]&&a.push(r[s]);".."!=r[--s]&&"."!=r[s]||a.push(""),o.path=a.join("/")}return o}),r("true",[],function(){return new Ze(!0)}),r("false",[],function(){return new Ze(!1)}),r("not",[[Zt,"*"]],function(e){return new Ze(!Tn(e,this))}),r("position",[],function(){return new bt(this.position)}),r("last",[],function(){return new bt(this.size)}),r("current-dateTime",[],function(){return this.dateTime}),r("current-date",[],function(){return Qe.cast(this.dateTime)}),r("current-time",[],function(){return xt.cast(this.dateTime)}),r("implicit-timezone",[],function(){return this.timezone}),r("default-collation",[],function(){return new Tt(this.staticContext.defaultCollationName)}),r("static-base-uri",[],function(){return $e.cast(new Tt(this.staticContext.baseURI||""))}),r("years-from-duration",[[ut,"?"]],function(e){return yn(e,"year")}),r("months-from-duration",[[ut,"?"]],function(e){return yn(e,"month")}),r("days-from-duration",[[ut,"?"]],function(e){return yn(e,"day")}),r("hours-from-duration",[[ut,"?"]],function(e){return yn(e,"hours")}),r("minutes-from-duration",[[ut,"?"]],function(e){return yn(e,"minutes")}),r("seconds-from-duration",[[ut,"?"]],function(e){return yn(e,"seconds")}),r("year-from-dateTime",[[We,"?"]],function(e){return vn(e,"year")}),r("month-from-dateTime",[[We,"?"]],function(e){return vn(e,"month")}),r("day-from-dateTime",[[We,"?"]],function(e){return vn(e,"day")}),r("hours-from-dateTime",[[We,"?"]],function(e){return vn(e,"hours")}),r("minutes-from-dateTime",[[We,"?"]],function(e){return vn(e,"minutes")}),r("seconds-from-dateTime",[[We,"?"]],function(e){return vn(e,"seconds")}),r("timezone-from-dateTime",[[We,"?"]],function(e){return vn(e,"timezone")}),r("year-from-date",[[Qe,"?"]],function(e){return vn(e,"year")}),r("month-from-date",[[Qe,"?"]],function(e){return vn(e,"month")}),r("day-from-date",[[Qe,"?"]],function(e){return vn(e,"day")}),r("timezone-from-date",[[Qe,"?"]],function(e){return vn(e,"timezone")}),r("hours-from-time",[[xt,"?"]],function(e){return vn(e,"hours")}),r("minutes-from-time",[[xt,"?"]],function(e){return vn(e,"minutes")}),r("seconds-from-time",[[xt,"?"]],function(e){return vn(e,"seconds")}),r("timezone-from-time",[[xt,"?"]],function(e){return vn(e,"timezone")}),r("adjust-dateTime-to-timezone",[[We,"?"],[Et,"?",!0]],function(e,t){return gn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),r("adjust-date-to-timezone",[[Qe,"?"],[Et,"?",!0]],function(e,t){return gn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),r("adjust-time-to-timezone",[[xt,"?"],[Et,"?",!0]],function(e,t){return gn(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),r("name",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return new Tt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","name() function called when the context item is not a node");t=this.item}var n=$n["node-name"].call(this,t);return new Tt(null==n?"":n.toString())}),r("local-name",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return new Tt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","local-name() function called when the context item is not a node");t=this.item}return new Tt(this.DOMAdapter.getProperty(t,"localName")||"")}),r("namespace-uri",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return $e.cast(new Tt(""))}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","namespace-uri() function called when the context item is not a node");t=this.item}return $e.cast(new Tt(this.DOMAdapter.getProperty(t,"namespaceURI")||""))}),r("number",[[Be,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=xn([this.item],this)[0]}var n=new at(kn);if(null!=t)try{n=at.cast(t)}catch(e){}return n}),r("lang",[[Tt,"?"],[Qt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","lang() function called when the context item is not a node");n=this.item}var o=this.DOMAdapter.getProperty;2==o(n,"nodeType")&&(n=o(n,"ownerElement"));for(var i;n;n=o(n,"parentNode"))if(i=o(n,"attributes"))for(var r=0,a=i.length;r<a;r++)if("xml:lang"==o(i[r],"nodeName"))return new Ze(o(i[r],"value").replace(/-.+/,"").toLowerCase()==t.valueOf().replace(/-.+/,"").toLowerCase());return new Ze(!1)}),r("root",[[Qt,"?",!0]],function(t){if(arguments.length){if(null==t)return null}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","root() function called when the context item is not a node");t=this.item}var n=this.DOMAdapter.getProperty;2==n(t,"nodeType")&&(t=n(t,"ownerElement"));for(var o=t;o;o=n(t,"parentNode"))t=o;return t}),r("abs",[[at,"?"]],function(e){return new rt(Sn.abs(e))}),r("ceiling",[[at,"?"]],function(e){return new rt(Sn.ceil(e))}),r("floor",[[at,"?"]],function(e){return new rt(Sn.floor(e))}),r("round",[[at,"?"]],function(e){return new rt(Sn.round(e))}),r("round-half-to-even",[[at,"?"],[bt,"",!0]],function(e,t){var n=arguments.length>1?t.valueOf():0;if(n<0){var o=new bt(Sn.pow(10,-n)),i=new bt(r=Sn.round(Qn["numeric-divide"].call(this,e,o)));return nDecimal=Sn.abs(Qn["numeric-subtract"].call(this,i,Qn["numeric-divide"].call(this,e,o))),Qn["numeric-multiply"].call(this,Qn["numeric-add"].call(this,i,new rt(.5==nDecimal&&r%2?-1:0)),o)}var o=new bt(Sn.pow(10,n)),r=Sn.round(Qn["numeric-multiply"].call(this,e,o)),i=new bt(r);return nDecimal=Sn.abs(Qn["numeric-subtract"].call(this,i,Qn["numeric-multiply"].call(this,e,o))),Qn["numeric-divide"].call(this,Qn["numeric-add"].call(this,i,new rt(.5==nDecimal&&r%2?-1:0)),o)}),r("resolve-QName",[[Tt,"?"],[en]],function(t,n){if(null==t)return null;var o=t.valueOf(),i=o.match(Po);if(!i)throw new e("FOCA0002","Invalid QName '"+o+"'");var r=i[1]||null,a=i[2],u=this.DOMAdapter.lookupNamespaceURI(n,r);if(null!=r&&!u)throw new e("FONS0004","Namespace prefix '"+r+"' has not been declared");return new gt(r,a,u||null)}),r("QName",[[Tt,"?"],[Tt]],function(t,n){var o=n.valueOf(),i=o.match(Po);if(!i)throw new e("FOCA0002","Invalid QName '"+o+"'");return new gt(i[1]||null,i[2]||null,null==t?"":t.valueOf())}),r("prefix-from-QName",[[gt,"?"]],function(e){return null!=e&&e.prefix?new Vt(e.prefix):null}),r("local-name-from-QName",[[gt,"?"]],function(e){return null==e?null:new Vt(e.localName)}),r("namespace-uri-from-QName",[[gt,"?"]],function(e){return null==e?null:$e.cast(new Tt(e.namespaceURI||""))}),r("namespace-uri-for-prefix",[[Tt,"?"],[en]],function(e,t){var n=null==e?"":e.valueOf(),o=this.DOMAdapter.lookupNamespaceURI(t,n||null);return null==o?null:$e.cast(new Tt(o))}),r("in-scope-prefixes",[[en]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),r("boolean",[[Zt,"*"]],function(e){return new Ze(Tn(e,this))}),r("index-of",[[Be,"*"],[Be],[Tt,"",!0]],function(e,t,n){if(!e.length||null==t)return[];var o=t;o instanceof Nt&&(o=Tt.cast(o));for(var i,r=[],a=0,u=e.length;a<u;a++)(i=e[a])instanceof Nt&&(i=Tt.cast(i)),i.valueOf()===o.valueOf()&&r.push(new bt(a+1));return r}),r("empty",[[Zt,"*"]],function(e){return new Ze(!e.length)}),r("exists",[[Zt,"*"]],function(e){return new Ze(!!e.length)}),r("distinct-values",[[Be,"*"],[Tt,"",!0]],function(e,t){if(!e.length)return null;for(var n,o=[],i=0,r=e.length;i<r;i++){(n=e[i])instanceof Nt&&(n=Tt.cast(n));for(var a,u=0,s=o.length,c=!1;u<s&&!c;u++)(a=o[u])instanceof Nt&&(a=Tt.cast(a)),a.valueOf()===n.valueOf()&&(c=!0);c||o.push(e[i])}return o}),r("insert-before",[[Zt,"*"],[bt],[Zt,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var o=e.length,i=t.valueOf();i<1?i=1:i>o&&(i=o+1);for(var r=[],a=0;a<o;a++)i==a+1&&(r=r.concat(n)),r.push(e[a]);return i==a+1&&(r=r.concat(n)),r}),r("remove",[[Zt,"*"],[bt]],function(e,t){if(!e.length)return[];var n=e.length,o=t.valueOf();if(o<1||o>n)return e;for(var i=[],r=0;r<n;r++)o!=r+1&&i.push(e[r]);return i}),r("reverse",[[Zt,"*"]],function(e){return e.reverse(),e}),r("subsequence",[[Zt,"*"],[at,""],[at,"",!0]],function(e,t,n){var o=Sn.round(t),i=arguments.length>2?Sn.round(n):e.length-o+1;return e.slice(o-1,o-1+i)}),r("unordered",[[Zt,"*"]],function(e){return e}),r("zero-or-one",[[Zt,"*"]],function(t){if(t.length>1)throw new e("FORG0003");return t}),r("one-or-more",[[Zt,"*"]],function(t){if(!t.length)throw new e("FORG0004");return t}),r("exactly-one",[[Zt,"*"]],function(t){if(1!=t.length)throw new e("FORG0005");return t}),r("deep-equal",[[Zt,"*"],[Zt,"*"],[Tt,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),r("count",[[Zt,"*"]],function(e){return new bt(e.length)}),r("avg",[[Be,"*"]],function(t){if(!t.length)return null;try{var n=t[0];n instanceof Nt&&(n=at.cast(n));for(var o,i=1,r=t.length;i<r;i++)(o=t[i])instanceof Nt&&(o=at.cast(o)),n=to["+"](n,o,this);return no.div(n,new bt(r),this)}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to avg() contains a mix of types")}}),r("max",[[Be,"*"],[Tt,"",!0]],function(t,n){if(!t.length)return null;try{for(var o=t[0],i=1,r=t.length;i<r;i++)Jn.ge(t[i],o,this).valueOf()&&(o=t[i]);return o}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to max() contains a mix of not comparable values")}}),r("min",[[Be,"*"],[Tt,"",!0]],function(t,n){if(!t.length)return null;try{for(var o=t[0],i=1,r=t.length;i<r;i++)Jn.le(t[i],o,this).valueOf()&&(o=t[i]);return o}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to min() contains a mix of not comparable values")}}),r("sum",[[Be,"*"],[Be,"?",!0]],function(t,n){if(!t.length)return arguments.length>1?n:new at(0);try{var o=t[0];o instanceof Nt&&(o=at.cast(o));for(var i,r=1,a=t.length;r<a;r++)(i=t[r])instanceof Nt&&(i=at.cast(i)),o=to["+"](o,i,this);return o}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to sum() contains a mix of types")}}),r("id",[[Tt,"*"],[Qt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","id() function called when the context item is not a node");n=this.item}var o=$n.root.call(this,n);if(9!=this.DOMAdapter.getProperty(o,"nodeType"))throw new e("FODC0001");for(var i=[],r=0;r<t.length;r++)for(var a=0,u=Fn(t[r]).split(/\s+/),s=u.length;a<s;a++)(n=this.DOMAdapter.getElementById(o,u[a]))&&-1==qn(i,n)&&i.push(n);return In(i,this)}),r("idref",[[Tt,"*"],[Qt,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),r("doc",[[Tt,"?",!0]],function(e){throw"Function 'doc' not implemented"}),r("doc-available",[[Tt,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),r("collection",[[Tt,"?",!0]],function(e){throw"Function 'collection' not implemented"}),r("element-with-id",[[Tt,"*"],[Qt,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),r("codepoints-to-string",[[bt,"*"]],function(e){for(var t=[],n=0,o=e.length;n<o;n++)t.push(En.fromCharCode(e[n]));return new Tt(t.join(""))}),r("string-to-codepoints",[[Tt,"?"]],function(e){if(null==e)return null;var t=e.valueOf();if(""==t)return[];for(var n=[],o=0,i=t.length;o<i;o++)n.push(new bt(t.charCodeAt(o)));return n}),r("compare",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(t,n,o){if(null==t||null==n)return null;var i,r=this.staticContext.defaultCollationName;if(arguments.length>2&&(r=o.valueOf()),!(i=r==Vn+"/collation/codepoint"?So:this.staticContext.getCollation(r)))throw new e("FOCH0002","Unknown collation {"+r+"}");return new bt(i.compare(t.valueOf(),n.valueOf()))}),r("codepoint-equal",[[Tt,"?"],[Tt,"?"]],function(e,t){return null==e||null==t?null:new Ze(e.valueOf()==t.valueOf())}),r("concat",null,function(){if(arguments.length<2)throw new e("XPST0017","Function concat() must have at least 2 arguments");for(var t,n=[],o=0,i=arguments.length;o<i;o++)Te(0,t=arguments[o],"?","each argument of concat()"),t.length&&(n[n.length]=Tt.cast(xn(t,this)[0]).valueOf());return new Tt(n.join(""))}),r("string-join",[[Tt,"*"],[Tt]],function(e,t){return new Tt(e.join(t))}),r("substring",[[Tt,"?"],[at],[at,"",!0]],function(e,t,n){var o=null==e?"":e.valueOf(),i=Sn.round(t)-1,r=arguments.length>2?i+Sn.round(n):o.length;return new Tt(r>i?o.substring(i,r):"")}),r("string-length",[[Tt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=Tt.cast(xn([this.item],this)[0])}return new bt(null==t?0:t.valueOf().length)}),r("normalize-space",[[Tt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=Tt.cast(xn([this.item],this)[0])}return new Tt(null==t?"":Fn(t).replace(/\s\s+/g," "))}),r("normalize-unicode",[[Tt,"?"],[Tt,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),r("upper-case",[[Tt,"?"]],function(e){return new Tt(null==e?"":e.valueOf().toUpperCase())}),r("lower-case",[[Tt,"?"]],function(e){return new Tt(null==e?"":e.valueOf().toLowerCase())}),r("translate",[[Tt,"?"],[Tt],[Tt]],function(e,t,n){if(null==e)return new Tt("");for(var o,i=e.valueOf().split(""),r=t.valueOf().split(""),a=n.valueOf().split(""),u=a.length,s=[],c=0,l=i.length;c<l;c++)-1==(o=r.indexOf(i[c]))?s[s.length]=i[c]:o<u&&(s[s.length]=a[o]);return new Tt(s.join(""))}),r("encode-for-uri",[[Tt,"?"]],function(e){return new Tt(null==e?"":window.encodeURIComponent(e))}),r("iri-to-uri",[[Tt,"?"]],function(e){return new Tt(null==e?"":window.encodeURI(window.decodeURI(e)))}),r("escape-html-uri",[[Tt,"?"]],function(e){if(null==e||""==e.valueOf())return new Tt("");for(var t,n=e.valueOf().split(""),o=0,i=n.length;o<i;o++)((t=n[o].charCodeAt(0))<32||t>126)&&(n[o]=window.encodeURIComponent(n[o]));return new Tt(n.join(""))}),r("contains",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(e,t,n){return new Ze((null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf())>=0)}),r("starts-with",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(e,t,n){return new Ze(0==(null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf()))}),r("ends-with",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(e,t,n){var o=null==e?"":e.valueOf(),i=null==t?"":t.valueOf();return new Ze(o.indexOf(i)==o.length-i.length)}),r("substring-before",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(e,t,n){var o,i=null==e?"":e.valueOf(),r=null==t?"":t.valueOf();return new Tt((o=i.indexOf(r))>=0?i.substring(0,o):"")}),r("substring-after",[[Tt,"?"],[Tt,"?"],[Tt,"",!0]],function(e,t,n){var o,i=null==e?"":e.valueOf(),r=null==t?"":t.valueOf();return new Tt((o=i.indexOf(r))>=0?i.substring(o+r.length):"")}),r("matches",[[Tt,"?"],[Tt],[Tt,"",!0]],function(e,t,n){var o=null==e?"":e.valueOf();return new Ze(Nn(t.valueOf(),arguments.length>2?n.valueOf():"").test(o))}),r("replace",[[Tt,"?"],[Tt],[Tt],[Tt,"",!0]],function(e,t,n,o){var i=null==e?"":e.valueOf(),r=Nn(t.valueOf(),arguments.length>3?o.valueOf():"");return new Ze(i.replace(r,n.valueOf()))}),r("tokenize",[[Tt,"?"],[Tt],[Tt,"",!0]],function(e,t,n){for(var o=null==e?"":e.valueOf(),i=Nn(t.valueOf(),arguments.length>2?n.valueOf():""),r=[],a=0,u=o.split(i),s=u.length;a<s;a++)r.push(new Tt(u[a]));return r}),r("trace",[[Zt,"*"],[Tt]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var So=new s;So.equals=function(e,t){return e==t},So.compare=function(e,t){return e==t?0:e>t?1:-1};var Xo=function(){};Xo.prototype.nodeType=2,Xo.prototype.nodeName=Xo.prototype.nodeValue=Xo.prototype.ownerDocument=Xo.prototype.localName=Xo.prototype.namespaceURI=Xo.prototype.prefix=Xo.prototype.attributes=Xo.prototype.childNodes=Xo.prototype.firstChild=Xo.prototype.lastChild=Xo.prototype.previousSibling=Xo.prototype.nextSibling=Xo.prototype.parentNode=Xo.prototype.name=Xo.prototype.specified=Xo.prototype.value=Xo.prototype.ownerElement=null,Dn.prototype=new n;var _o=new i;Dn.prototype.getProperty=function(e,t){if(t in e)return e[t];if("baseURI"==t){for(var n,o="",i=_o.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),r=_o.getDataType("{http://www.w3.org/2001/XMLSchema}string"),a=e;a;a=a.parentNode)1==a.nodeType&&(n=a.getAttribute("xml:base"))&&(o=i(new r(n),new r(o)).toString());return o}if("textContent"==t){var u=[];return function(e){for(var t,n=0;t=e.childNodes[n];n++)3==t.nodeType||4==t.nodeType?u.push(t.data):1==t.nodeType&&t.firstChild&&arguments.callee(t)}(e),u.join("")}},Dn.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n,o,i,r,a,u=null,s=null;if(2==e.nodeType&&(u=e,e=this.getProperty(u,"ownerElement")),2==t.nodeType&&(s=t,t=this.getProperty(s,"ownerElement")),u&&s&&e&&e==t)for(r=0,a=(n=this.getProperty(e,"attributes")).length;r<a;r++){if((o=n[r])==u)return 36;if(o==s)return 34}var c,l,f,p,h=[],d=[];for(u&&h.push(u),i=e;i;i=i.parentNode)h.push(i);for(s&&d.push(s),i=t;i;i=i.parentNode)d.push(i);if((e.ownerDocument||e)!=(t.ownerDocument||t)||h[h.length-1]!=d[d.length-1])return 33;for(r=Sn.min(c=h.length,f=d.length);r;--r)if((l=h[--c])!=(p=d[--f])){if(2==l.nodeType)return 4;if(2==p.nodeType)return 2;if(!p.nextSibling)return 4;if(!l.nextSibling)return 2;for(i=p.previousSibling;i;i=i.previousSibling)if(i==l)return 4;return 2}return c<f?20:10},Dn.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&9!=e.nodeType;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(1==e.nodeType)for(var n=this.getProperty(e,"attributes"),o=0,i=n.length,r="xmlns:"+t;o<i;o++)if(this.getProperty(n[o],"nodeName")==r)return this.getProperty(n[o],"value")}return null},Dn.prototype.getElementsByTagNameNS=function(e,t,n){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(t,n);var o=[],i="*"==t,r="*"==n;return function(e){for(var a,u=0;a=e.childNodes[u];u++)1==a.nodeType&&(!r&&n!=this.getProperty(a,"localName")||!i&&t!=this.getProperty(a,"namespaceURI")||(o[o.length]=a),a.firstChild&&arguments.callee(a))}(e),o};var Yo=new Dn,ko=new Dn;ko.getProperty=function(e,t){return"localName"==t&&1==e.nodeType?e.localName.toLowerCase():"namespaceURI"==t?1==e.nodeType?"http://www.w3.org/1999/xhtml":null:Dn.prototype.getProperty.call(this,e,t)};var Uo=new Dn;Uo.getProperty=function(e,t){if("localName"==t&&1==e.nodeType)return e.nodeName.toLowerCase();if("prefix"==t)return null;if("namespaceURI"==t)return 1==e.nodeType?"http://www.w3.org/1999/xhtml":null;if("textContent"==t)return e.innerText;if("attributes"==t&&1==e.nodeType){for(var n,o,i=[],r=0,a=e.attributes,u=a.length;r<u;r++)(n=a[r]).specified&&((o=new Xo).ownerElement=e,o.ownerDocument=e.ownerDocument,o.specified=!0,o.value=o.nodeValue=n.nodeValue,o.name=o.nodeName=o.localName=n.nodeName.toLowerCase(),i[i.length]=o);return i}return Dn.prototype.getProperty.call(this,e,t)};var zo=new Dn;zo.getProperty=function(e,t){if("localName"==t){if(7==e.nodeType)return null;if(1==e.nodeType)return e.baseName}if("prefix"==t||"namespaceURI"==t)return e[t]||null;if("textContent"==t)return e.text;if("attributes"==t&&1==e.nodeType){for(var n,o,i=[],r=0,a=e.attributes,u=a.length;r<u;r++)(n=a[r]).specified&&((o=new Xo).nodeType=2,o.ownerElement=e,o.ownerDocument=e.ownerDocument,o.specified=!0,o.value=o.nodeValue=n.nodeValue,o.name=o.nodeName=n.nodeName,o.localName=n.baseName,o.prefix=n.prefix||null,o.namespaceURI=n.namespaceURI||null,i[i.length]=o);return i}return Dn.prototype.getProperty.call(this,e,t)},zo.getElementById=function(e,t){return e.nodeFromID(t)};var Co=window.jQuery,Go=window.document,Fo=!!Go.namespaces&&!Go.createElementNS,qo=!Fo&&"http://www.w3.org/1999/xhtml"!=Go.documentElement.namespaceURI,Ko=new i,Vo=new i;Ko.baseURI=Go.location.href,Ko.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",Ko.defaultElementNamespace="http://www.w3.org/1999/xhtml",Vo.defaultFunctionNamespace=Ko.defaultFunctionNamespace;var Bo={};Bo.xpath=function(e,t,n){return On(e instanceof Co?e:new Co(e),t,n)},Co.extend(Co,Bo),(Bo={}).xpath=function(e,t){return On(this,e,t)},Co.extend(Co.prototype,Bo)}();